/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var t=document.querySelector(".popup_open-image"),e=(document.querySelector(".popup__image-element"),document.querySelector(".popup__place-title"),document.querySelectorAll(".popup"),document.querySelector(".profile__add")),r=document.querySelector(".popup_add-card"),n=document.querySelector(".profile__edit"),o=document.querySelector(".popup_profile"),i=document.querySelector(".popup__input_name"),a=document.querySelector(".profile__title"),u=document.querySelector(".popup__input_about"),c=document.querySelector(".profile__subtitle"),s=document.querySelector(".popup__form_profile"),l=(document.querySelector(".popup__input_place"),document.querySelector(".popup__input_link"),document.querySelector(".popup__form_new-card")),f=document.querySelector(".elements__list"),p=document.querySelector(".popup_new-avatar"),h=document.querySelector(".profile__avatar-overlay"),y=document.querySelector(".profile__avatar"),d=document.querySelector(".popup_confirm"),v={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inputErrorClass:"popup__input_type_error",errorVisibleClass:"popup__error-visible",host:"https://mesto.nomoreparties.co/v1/cohort-47",token:"f085916c-6915-4c31-bcde-3cb49b2623b6"};function _(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var m=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._host=e,this._token=r,this._getJsonOrError=this._getJsonOrError.bind(this),this._getHeaders=this._getHeaders.bind(this)}var e,r;return e=t,(r=[{key:"_getHeaders",value:function(){return{authorization:this._token,"content-type":"application/json"}}},{key:"_getJsonOrError",value:function(t){if(t.ok)return t.json();throw new Error("Ошибка: ".concat(t.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._host,"/users/me"),{headers:this._getHeaders()}).then(this._getJsonOrError)}},{key:"setProfileInfo",value:function(t){return fetch("".concat(this._host,"/users/me"),{method:"PATCH",headers:this._getHeaders(),body:JSON.stringify({name:t.name,about:t.about})}).then(this._getJsonOrError)}},{key:"setNewAvatar",value:function(t){return fetch("".concat(this._host,"/users/me/avatar"),{method:"PATCH",headers:this._getHeaders(),body:JSON.stringify({avatar:t.avatar})}).then(this._getJsonOrError)}},{key:"getCards",value:function(){return fetch("".concat(this._host,"/cards"),{headers:this._getHeaders()}).then(this._getJsonOrError)}},{key:"addCard",value:function(t){return fetch("".concat(this._host,"/cards"),{method:"POST",headers:this._getHeaders(),body:JSON.stringify(t)}).then(this._getJsonOrError)}},{key:"deleteCard",value:function(t){return fetch("".concat(this._host,"/cards/").concat(t._id),{method:"DELETE",headers:this._getHeaders()}).then(this._getJsonOrError)}}])&&_(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var g=function(){function t(e,r,n,o,i){var a=o.userId;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=e.name,this._link=e.link,this._cardSelector=r,this._handleCardClick=n,this._id=a,this._cardOwnerId=e.owner._id,this._cardId=e._id,this._handleDeletingSubmit=i,this._data=e}var e,r;return e=t,(r=[{key:"getCard",value:function(){return this._data}},{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._imageElement=this._element.querySelector(".element__image"),this._titleImageElement=this._element.querySelector(".element__title"),this._cardDeleteButton=this._element.querySelector(".element__delete"),this._setEventListeners(),this._imageElement.src=this._link,this._imageElement.alt=this._name,this._titleImageElement.textContent=this._name,this._id!==this._cardOwnerId&&(this._cardDeleteButton.style.display="none"),this._setEventListeners(),this._element}},{key:"_setEventListeners",value:function(){var t=this;this._likeButton=this._element.querySelector(".element__like"),this._cardImage=this._element.querySelector(".element__image"),this._likeButton.addEventListener("click",(function(){t._handleLikeClick()})),this._cardDeleteButton.addEventListener("click",(function(){t._handleDeletingSubmit(t._data,t._element)})),this._cardImage.addEventListener("click",(function(){t._handleCardClick(t._name,t._link)}))}},{key:"_handleLikeClick",value:function(){this._likeButton.classList.toggle("element__like_active")}},{key:"delete",value:function(){this._element.remove(),this._element=null}}])&&b(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function w(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var E=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._formElement=e,this._config=r,this._inputList=Array.from(e.querySelectorAll(this._config.inputSelector)),this._submitButtonElement=e.querySelector(this._config.submitButtonSelector)}var e,r;return e=t,(r=[{key:"_hideInputError",value:function(t){var e=this._formElement.querySelector("#".concat(t.id,"-error"));t.classList.remove(this._config.inputErrorClass),e.classList.remove(this._config.errorVisibleClass),e.textContent=""}},{key:"_showInputError",value:function(t,e){var r=this._formElement.querySelector("#".concat(t.id,"-error"));t.classList.add(this._config.inputErrorClass),r.textContent=e,r.classList.add(this._config.errorVisibleClass)}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t,t.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._submitButtonElement.disabled=!0:this._submitButtonElement.disabled=!1}},{key:"disabledSubmitButton",value:function(){this._submitButtonElement.disabled=!0}},{key:"_setEventListeners",value:function(){var t=this;this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._toggleButtonState()}))}))}},{key:"resetValidation",value:function(){var t=this;this._toggleButtonState(),this._inputList.forEach((function(e){t._hideInputError(e)}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&w(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var k=function(){function t(e,r){var n=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=n,this._container=r}var e,r;return e=t,(r=[{key:"setItems",value:function(t){this._renderedItems=t}},{key:"addItem",value:function(t){this._container.prepend(t)}},{key:"renderItem",value:function(){var t=this;this._renderedItems.forEach((function(e){t._renderer(e)}))}}])&&O(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function S(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var L=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=e,this._handleEscClose=this._handleEscClose.bind(this)}var e,r;return e=t,(r=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._popup.addEventListener("mousedown",(function(e){(e.target.classList.contains("popup_opened")||e.target.classList.contains("popup__close"))&&t.close()}))}}])&&S(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function P(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function x(){return x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=C(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},x.apply(this,arguments)}function C(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=R(t)););return t}function I(t,e){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},I(t,e)}function q(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function R(t){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},R(t)}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=R(n);if(o){var r=R(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return q(this,t)});function a(t,e){var r,n=e.submitForm;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,t))._form=r._popup.querySelector(".popup__form"),r._inputs=r._form.querySelectorAll(".popup__input"),r._submitForm=n,r}return e=a,(r=[{key:"_getInputValues",value:function(){var t={};return this._inputs.forEach((function(e){t[e.name]=e.value})),t}},{key:"setEventListeners",value:function(){var t=this;x(R(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._submitForm(t._getInputValues()),t.close()}))}},{key:"close",value:function(){x(R(a.prototype),"close",this).call(this),this._form.reset()}}])&&P(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(L);function B(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var A=function(){function t(e){var r=e.userName,n=e.userAbout,o=e.userAvatar;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=r,this._about=n,this._avatar=o}var e,r;return e=t,(r=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent,avatar:this._avatar.src}}},{key:"setUserInfo",value:function(t){this._name.textContent=t.name,this._about.textContent=t.about,this._avatar.src=t.avatar}}])&&B(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function D(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function V(){return V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=J(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},V.apply(this,arguments)}function J(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=U(t)););return t}function F(t,e){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},F(t,e)}function H(t,e){if(e&&("object"===N(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function U(t){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},U(t)}var G=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=U(n);if(o){var r=U(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return H(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t))._name=e._popup.querySelector(".popup__place-title"),e._link=e._popup.querySelector(".popup__image-element"),e}return e=a,(r=[{key:"open",value:function(t,e){this._link.src=e,this._link.alt=t,this._name.textContent=t,V(U(a.prototype),"open",this).call(this)}}])&&D(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(L);function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function Y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function z(){return z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=$(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},z.apply(this,arguments)}function $(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=W(t)););return t}function K(t,e){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},K(t,e)}function Q(t,e){if(e&&("object"===M(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}var X,Z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=W(n);if(o){var r=W(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Q(this,t)});function a(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,t))._form=r._popup.querySelector(".popup__form"),r._submitForm=e,r}return e=a,(r=[{key:"open",value:function(t,e){this._data=t,this._card=e,z(W(a.prototype),"open",this).call(this)}},{key:"getCardObject",value:function(t){this._data=t}},{key:"setEventListeners",value:function(){var t=this;z(W(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._submitForm(t._data)}))}}])&&Y(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(L);function tt(t){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tt(t)}function et(){et=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=g(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function f(){}function p(){}function h(){}var y={};u(y,o,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(k([])));v&&v!==e&&r.call(v,o)&&(y=v);var _=h.prototype=f.prototype=Object.create(y);function m(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var c=s(t[o],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==tt(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function g(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,g(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=s(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=h,u(_,"constructor",h),u(h,"constructor",p),p.displayName=u(h,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,a,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},m(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(_),u(_,a,"Generator"),u(_,o,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=k,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function rt(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function nt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){rt(i,n,o,a,u,"next",t)}function u(t){rt(i,n,o,a,u,"throw",t)}a(void 0)}))}}function ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var it=new m(v.host,v.token);Promise.all([it.getUserInfo(),it.getCards()]).then((function(t){var e,r,n=(r=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,r)||function(t,e){if(t){if("string"==typeof t)return ot(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ot(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1];X=o._id,at.setUserInfo(o),ft.setItems(i),ft.renderItem(i)})).catch((function(t){return console.log(t)}));var at=new A({userName:a,userAbout:c,userAvatar:y});function ut(){return(ut=nt(et().mark((function t(e){var r;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,it.setProfileInfo(e);case 3:r=t.sent,at.setUserInfo(r),ct.close(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}n.addEventListener("click",(function(){ct.open();var t=at.getUserInfo();i.value=t.name,u.value=t.about,bt.resetValidation(),bt.disabledSubmitButton()}));var ct=new T(o,(function(t){return ut.apply(this,arguments)}));ct.setEventListeners();var st=function(t){return new g(t,".element-template",yt,{userId:X},lt).generateCard()};function lt(t){_t.open(),_t.getCardObject(t)}var ft=new k({renderer:function(t){var e=st(t);ft.addItem(e)}},f),pt=new T(r,{submitForm:function(t){return ht.apply(this,arguments)}});function ht(){return(ht=nt(et().mark((function t(e){var r,n;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,it.addCard(e);case 3:r=t.sent,n=st(r),ft.addItem(n),pt.close(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}pt.setEventListeners(),e.addEventListener("click",(function(){pt.open(),gt.resetValidation()}));var yt=function(t,e){dt.open(t,e)},dt=new G(t);dt.setEventListeners();var vt=new T(p,(function(t){return mt.apply(this,arguments)}));vt.setEventListeners();var _t=new Z(d,(function(t){it.deleteCard(t).then((function(){t.delete()})).catch((function(t){return console.log(t)}))}));function mt(){return(mt=nt(et().mark((function t(e){var r;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,it.setNewAvatar(e);case 3:r=t.sent,at.setUserInfo(r),ct.close(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}_t.setEventListeners(),h.addEventListener("click",(function(){vt.open()}));var bt=new E(s,v),gt=new E(l,v);bt.enableValidation(),gt.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Qk0sR0FDOUR1SixHQUFzQm1CLG1CQUN0QlAsR0FBbUJPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwRm9yQ29uZmlybS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgcG9wdXBJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9vcGVuLWltYWdlJyk7XHJcbmV4cG9ydCBjb25zdCBpbWFnZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlLWVsZW1lbnQnKTtcclxuZXhwb3J0IGNvbnN0IGNhcHRpb25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19wbGFjZS10aXRsZScpO1xyXG5leHBvcnQgY29uc3QgYWxsUG9wdXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwJyk7XHJcbmV4cG9ydCBjb25zdCBhZGRDYXJkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZCcpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBBZGRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2FkZC1jYXJkJyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0Jyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfcHJvZmlsZScpO1xyXG5leHBvcnQgY29uc3QgbmFtZUZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF9uYW1lJyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fdGl0bGUnKTtcclxuZXhwb3J0IGNvbnN0IGFib3V0RmllbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X2Fib3V0Jyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlU3VidGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fc3VidGl0bGUnKTtcclxuZXhwb3J0IGNvbnN0IGZvcm1FbGVtZW50UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybV9wcm9maWxlJyk7XHJcbmV4cG9ydCBjb25zdCBwbGFjZUZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF9wbGFjZScpO1xyXG5leHBvcnQgY29uc3QgbGlua0ZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF9saW5rJyk7XHJcbmV4cG9ydCBjb25zdCBmb3JtRWxlbWVudENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm1fbmV3LWNhcmQnKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fbGlzdCcpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfbmV3LWF2YXRhcicpO1xyXG5leHBvcnQgY29uc3QgbmV3QXZhdGFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhci1vdmVybGF5Jyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcicpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2NvbmZpcm0nKTtcclxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLFxyXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fYnV0dG9uJyxcclxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXHJcbiAgZXJyb3JWaXNpYmxlQ2xhc3M6ICdwb3B1cF9fZXJyb3ItdmlzaWJsZScsXHJcbiAgaG9zdDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDcnLFxyXG4gIHRva2VuOiAnZjA4NTkxNmMtNjkxNS00YzMxLWJjZGUtM2NiNDliMjYyM2I2JyxcclxufTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKGhvc3QsIHRva2VuKSB7XHJcbiAgICB0aGlzLl9ob3N0ID0gaG9zdDtcclxuICAgIHRoaXMuX3Rva2VuID0gdG9rZW47XHJcbiAgICB0aGlzLl9nZXRKc29uT3JFcnJvciA9IHRoaXMuX2dldEpzb25PckVycm9yLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9nZXRIZWFkZXJzID0gdGhpcy5fZ2V0SGVhZGVycy5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgLy/Qn9C+0LvRg9GH0LXQvdC40LUgSGVhZGVycyDQtNC70Y8g0YDQsNC30LvQuNGH0L3Ri9GFINC80LXRgtC+0LTQvtCyXHJcbiAgX2dldEhlYWRlcnMoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8v0J7RgtCy0LXRgiDQsiDQv9GA0L7QvNC40YHQsNGFINGA0LDQt9C70LjRh9C90YvRhSDQvNC10YLQvtC00L7QsiDQsiDQt9Cw0LLQuNGB0LjQvNC+0YHRgtC4INC+0YIg0L3QsNC70LjRh9C40Y8g0L7RiNC40LHQutC4XHJcbiAgX2dldEpzb25PckVycm9yKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH1cclxuXHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gIH1cclxuXHJcbiAgLy/QnNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDQstC10YDQvdC10YIg0LjQvdGE0L7RgNC80LDRhtC40Y4g0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1XHJcbiAgZ2V0VXNlckluZm8oKXtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9ob3N0fS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycygpLFxyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2dldEpzb25PckVycm9yKVxyXG4gIH1cclxuXHJcbiAgLy/QnNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDRgdC+0YXRgNCw0L3QuNGCINC40LfQvNC10L3QtdC90L3Ri9C1INC00LDQvdC90YvQtSDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LVcclxuICBzZXRQcm9maWxlSW5mbyhkYXRhKXtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9ob3N0fS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKCksXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IGRhdGEuYWJvdXQsXHJcbiAgICAgIH0pLFxyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2dldEpzb25PckVycm9yKVxyXG4gIH1cclxuXHJcbiAgLy/QnNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDRgdC+0YXRgNCw0L3QuNGCINC40LfQvNC10L3QtdC90L3Ri9C1INC00LDQvdC90YvQtSDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LVcclxuICBzZXROZXdBdmF0YXIoZGF0YSl7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5faG9zdH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMoKSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcjogZGF0YS5hdmF0YXIsXHJcbiAgICAgIH0pLFxyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2dldEpzb25PckVycm9yKVxyXG4gIH1cclxuXHJcbiAgLy/QnNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDQstC10YDQvdC10YIg0LrQsNGA0YLQvtGH0LrQuFxyXG4gIGdldENhcmRzKCl7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5faG9zdH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMoKSxcclxuICAgIH0pXHJcbiAgICAudGhlbih0aGlzLl9nZXRKc29uT3JFcnJvcilcclxuICB9XHJcblxyXG4gIC8v0JzQtdGC0L7QtCwg0LTQvtCx0LDQstC70Y/RjtGJ0LjQuSDQutCw0YDRgtC+0YfQutC4XHJcbiAgYWRkQ2FyZChuYW1lKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5faG9zdH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKCksXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KChuYW1lKSksXHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5fZ2V0SnNvbk9yRXJyb3IpXHJcbiAgfVxyXG5cclxuICAvL9Cc0LXRgtC+0LQsINGD0LTQsNC70Y/RjtGJ0LjQuSDQutCw0YDRgtC+0YfQutC4XHJcbiAgZGVsZXRlQ2FyZChkYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5faG9zdH0vY2FyZHMvJHtkYXRhLl9pZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMoKSxcclxuICAgIH0pXHJcbiAgICAudGhlbih0aGlzLl9nZXRKc29uT3JFcnJvcilcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihkYXRhLCBjYXJkU2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljaywge3VzZXJJZH0sIGhhbmRsZURlbGV0aW5nU3VibWl0KSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgIHRoaXMuX2lkID0gdXNlcklkO1xyXG4gICAgdGhpcy5fY2FyZE93bmVySWQgPSBkYXRhLm93bmVyLl9pZDtcclxuICAgIHRoaXMuX2NhcmRJZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRpbmdTdWJtaXQgPSBoYW5kbGVEZWxldGluZ1N1Ym1pdDtcclxuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xyXG4gIH1cclxuXHJcbiAgLy/Qn9C+0LvRg9GH0LjRgtGMINC60LDRgNGC0L7Rh9C60YNcclxuICBnZXRDYXJkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RhdGE7XHJcbiAgfVxyXG4gIFxyXG4gIC8v0KTRg9C90LrRhtC40Y8sINGH0YLQvtCx0Ysg0LLQvtC30LLRgNCw0YnQsNGC0Ywg0YDQsNC30LzQtdGC0LrRgyDQuCDQutC70L7QvdC40YDQvtCy0LDRgtGMINGN0LvQtdC80LXQvdGCXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxyXG4gICAgLmNvbnRlbnRcclxuICAgIC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudCcpXHJcbiAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICAvL9Ck0YPQvdC60YbQuNGPLCDQutC+0YLQvtGA0LDRjyDQv9C+0LTQs9C+0YLQvtCy0LjRgiDQutCw0YDRgtC+0YfQutGDINC6INC/0YPQsdC70LjQutCw0YbQuNC4XHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgLy/Ql9Cw0L/QuNGB0Ywg0YDQsNC30LzQtdGC0LrQuCDQsiDQv9C+0LvQtSBlbGVtZW50LCDRh9GC0L7QsdGLINGDINC00YDRg9Cz0LjRhSDRjdC70LXQvNC10L3RgtC+0LIg0L/QvtGP0LLQuNC70YHRjyDQtNC+0YHRgtGD0L8g0Log0L3QtdC5XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX2ltYWdlRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2ltYWdlJylcclxuICAgIHRoaXMuX3RpdGxlSW1hZ2VFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fdGl0bGUnKVxyXG4gICAgdGhpcy5fY2FyZERlbGV0ZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2RlbGV0ZScpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICAvL9CU0L7QsdCw0LLQu9C10L3QuNC1INC00LDQvdC90YvRhVxyXG4gICAgdGhpcy5faW1hZ2VFbGVtZW50LnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX3RpdGxlSW1hZ2VFbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuXHJcbiAgICAvL9Cf0YDQvtCy0LXRgNC60LAg0LDQstGC0L7RgNCwINC60LDRgNGC0L7Rh9C60LhcclxuICAgIGlmICh0aGlzLl9pZCAhPT0gdGhpcy5fY2FyZE93bmVySWQpIHtcclxuICAgICAgdGhpcy5fY2FyZERlbGV0ZUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcblxyXG4gIC8vXCLQodC70YPRiNCw0YLQtdC70LhcIiDRgdC+0LHRi9GC0LjQuSDQtNC70Y8g0LvQsNC50LrQsCwg0YPQtNCw0LvQtdC90LjRjyDQuCDQvtGC0LrRgNGL0YLQuNGPINC40LfQvtCx0YDQsNC20LXQvdC40Y9cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBcclxuICAgIC8v0J7QsdGK0Y/QstC70LXQvdC40LUg0LrQu9Cw0YHRgdC+0LLRi9GFINC/0LXRgNC10LzQtdC90L3Ri9GFINC00LvRjyDQu9Cw0LnQutCwINC4INC40LfQvtCx0YDQsNC20LXQvdC40LlcclxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlJyk7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19pbWFnZScpO1xyXG5cclxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2soKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2NhcmREZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0aW5nU3VibWl0KHRoaXMuX2RhdGEsIHRoaXMuX2VsZW1lbnQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xyXG4gICAgfSk7IFxyXG4gIH1cclxuXHJcbiAgLy/QnNC10YLQvtC00Ysg0LTQu9GPINC70LDQudC60LAsINGD0LTQsNC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxyXG4gIF9oYW5kbGVMaWtlQ2xpY2soKSB7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2VsZW1lbnRfX2xpa2VfYWN0aXZlJyk7XHJcbiAgfVxyXG5cclxuICBkZWxldGUoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoZm9ybUVsZW1lbnQsIGNvbmZpZykge1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9jb25maWcuaW5wdXRTZWxlY3RvcikpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIC8v0JzQtdGC0L7QtCwg0YHQutGA0YvQstCw0Y7RidC40Lkg0L7RiNC40LHQutGDXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuZXJyb3JWaXNpYmxlQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XHJcbiAgfVxyXG5cclxuICAvL9Ce0YLQvtCx0YDQsNC20LXQvdC40LUg0L7RiNC40LHQutC4XHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5lcnJvclZpc2libGVDbGFzcyk7XHJcbiAgfVxyXG5cclxuICAvL9Cf0YDQvtCy0LXRgNC60LAg0LLQsNC70LjQtNC90L7RgdGC0Lgg0L/QvtC70Y8sINGH0YLQvtCx0Ysg0L/QvtC60LDQt9Cw0YLRjCDQuNC70Lgg0YHQutGA0YvRgtGMINC+0YjQuNCx0LrRg1xyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy/Qn9GA0L7QstC10YDQutCwLCDQvdC10YIg0LvQuCDQv9C+0LvQtdC5INGBINC90LXQutC+0YDRgNC10LrRgtC90YvQvNC4INC00LDQvdC90YvQvNC4XHJcbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvL9Cc0LXRgtC+0LQsINC/0L7Qt9Cy0L7Qu9GP0Y7RidC40Lkg0LjQt9C80LXQvdC40YLRjCDQutC90L7Qv9C60YMgKNCw0LrRgtC40LLQvdCw0Y8g0LjQu9C4INC90LXQsNC60YLQuNCy0L3QsNGPKVxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8v0J3QtdCw0LrRgtC40LLQvdC+0YHRgtGMINC60L3QvtC/0LrQuCDQv9GA0Lgg0L7RgtC60YDRi9GC0LjQuCDQv9C+0L/QsNC/0LAg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRj1xyXG4gIGRpc2FibGVkU3VibWl0QnV0dG9uKCkge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgfVxyXG4gIFxyXG4gIC8v0JTQvtCx0LDQstC70LXQvdC40LUgXCLRgdC70YPRiNCw0YLQtdC70LXQuVwiINC90LAg0LLRgdC1INC/0L7Qu9GPINC4INC60L3QvtC/0LrRgyDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjRj1xyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pOyBcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvL9Ce0YfQuNGB0YLQutCwINGE0L7RgNC80Ysg0L7RgiDQvtGI0LjQsdC+0LpcclxuICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIC8v0J/RgNC40L3QuNC80LDQtdGCINCyINC60L7QvdGB0YLRgNGD0LrRgtC+0YAg0LzQsNGB0YHQuNCyINC00LDQvdC90YvRhSwg0YTRg9C90LrRhtC40Y4g0L7RgtGA0LjRgdC+0LLQutC4INC00LDQvdC90YvRhSDQvdCwINGB0YLRgNCw0L3QuNGG0LUg0Lgg0YHQtdC70LXQutGC0L7RgCDQutC+0L3RgtC10LnQvdC10YDQsCDQtNC70Y8g0Y3Qu9C10LzQtdC90YLQvtCyXHJcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjYXJkc0xpc3QpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBjYXJkc0xpc3Q7XHJcbiAgfVxyXG5cclxuICBzZXRJdGVtcyhpdGVtcykge1xyXG4gICAgdGhpcy5fcmVuZGVyZWRJdGVtcyA9IGl0ZW1zOyBcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oaXRlbSkge1xyXG4gICAgLy/QlNC+0LHQsNCy0LvRj9C10LwgaXRlbSDQsiDQutC+0L3RgtC10LnQvdC10YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChpdGVtKTtcclxuICB9XHJcblxyXG4gIC8v0J/QtdGA0LXQsdC10YDQtdC8INC80LDRgdGB0LjQsiDQtNCw0L3QvdGL0YUsINC60L7RgtC+0YDRi9C1INC00L7QsdCw0LLQu9GP0Y7RgtGB0Y8g0L3QsCDRgdGC0YDQsNC90LjRhtGDXHJcbiAgcmVuZGVySXRlbSgpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICAvL9Cf0YDQuNC90LjQvNCw0LXRgiDQsiDQutC+0L3RgdGC0YDRg9C60YLQvtGAINGB0LXQu9C10LrRgtC+0YAg0L/QvtC/0LDQv9CwXHJcbiAgY29uc3RydWN0b3IoYWxsUG9wdXBzKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGFsbFBvcHVwcztcclxuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICB9XHJcbiAgXHJcbiAgLy/QpNGD0L3QutGG0LjRjyDQtNC70Y8g0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LBcclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH07XHJcblxyXG4gIC8v0KTRg9C90LrRhtC40Y8g0LTQu9GPINC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICAvL9CX0LDQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwINGH0LXRgNC10LcgZXNjXHJcbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8v0JfQsNC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0L7QsiDQutC70LjQutC+0Lwg0L3QsCDQvtCy0LXRgNC70LXQuSDQuCBcItC60YDQtdGB0YLQuNC6XCJcclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChldnQpID0+IHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfb3BlbmVkJykgfHxcclxuICAgICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fY2xvc2UnKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXAuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICAvL9Cf0YDQuNC90LjQvNCw0LXRgiDQsiDQutC+0L3RgdGC0YDRg9C60YLQvtGAINGB0LXQu9C10LrRgtC+0YAg0L/QvtC/0LDQv9CwINC4INC60L7Qu9Cx0Y3QuiDRgdCw0LHQvNC40YLQsCDRhNC+0YDQvNGLXHJcbiAgY29uc3RydWN0b3IgKGFsbFBvcHVwcywgeyBzdWJtaXRGb3JtIH0pIHtcclxuICAgIHN1cGVyKGFsbFBvcHVwcyk7XHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XHJcbiAgICB0aGlzLl9pbnB1dHMgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKTtcclxuICAgIHRoaXMuX3N1Ym1pdEZvcm0gPSBzdWJtaXRGb3JtO1xyXG4gIH1cclxuXHJcbiAgLy/QnNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDRgdC+0LHQuNGA0LDQtdGCINC00LDQvdC90YvQtSDQstGB0LXRhSDQv9C+0LvQtdC5INGE0L7RgNC80YtcclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCB2YWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKGlucHV0ID0+IHtcclxuICAgICAgdmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB2YWx1ZXM7XHJcbiAgfVxyXG5cclxuICAvL9Cc0LXRgtC+0LQsINC00L7QsdCw0LLQu9GP0Y7RidC40Lkg0L7QsdGA0LDQsdC+0YLRh9C40Log0LrQu9C40LrQsCBcItC60YDQtdGB0YLQuNC60YNcIiDQuCDRgdCw0LHQvNC40YLRgyDRhNC+0YDQvNGLXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9zdWJtaXRGb3JtKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8v0JzQtdGC0L7QtCDRgdCx0YDQvtGB0LAg0L/QvtC70LXQuSDQv9GA0Lgg0LfQsNC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAgKNC/0LXRgNC10LfQsNC/0LjRgdGMINGA0L7QtNC40YLQtdC70YzRgdC60L7Qs9C+INC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwKVxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgLy/Qn9GA0LjQvdC40LzQsNC10YIg0L7QsdGK0LXQutGCINGBINGB0LXQu9C10LrRgtC+0YDQsNC80Lgg0Y3Qu9C10LzQtdC90YLQvtCyIFwi0LjQvNGPXCIsIFwi0L4g0YHQtdCx0LVcIiwgXCLQsNCy0LDRgtCw0YBcIlxyXG4gIGNvbnN0cnVjdG9yKHsgdXNlck5hbWUsIHVzZXJBYm91dCwgdXNlckF2YXRhciB9KSB7XHJcbiAgICB0aGlzLl9uYW1lID0gdXNlck5hbWU7XHJcbiAgICB0aGlzLl9hYm91dCA9IHVzZXJBYm91dDtcclxuICAgIHRoaXMuX2F2YXRhciA9IHVzZXJBdmF0YXI7XHJcbiAgfVxyXG5cclxuICAvL9Cc0LXRgtC+0LQsINCy0L7Qt9Cy0YDQsNGJ0LDRjtGJ0LjQuSDQvtCx0YrQtdC60YIg0YEg0LTQsNC90L3Ri9C80Lgg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICBjb25zdCB1c2VySW5mbyA9IHtcclxuICAgICAgbmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgYWJvdXQ6IHRoaXMuX2Fib3V0LnRleHRDb250ZW50LFxyXG4gICAgICBhdmF0YXI6IHRoaXMuX2F2YXRhci5zcmMsXHJcbiAgICB9XHJcbiAgICByZXR1cm4gdXNlckluZm87XHJcbiAgfVxyXG5cclxuICAvL9Cc0LXRgtC+0LQsINC/0YDQuNC90LjQvNCw0Y7RidC40Lkg0L3QvtCy0YvQtSDQtNCw0L3QvdGL0LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC4INC00L7QsdCw0LLQu9GP0Y7RidC40Lkg0L3QsCDRgdGC0YDQsNC90LjRhtGDXHJcbiAgc2V0VXNlckluZm8odXNlckluZm8pIHtcclxuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSB1c2VySW5mby5uYW1lO1xyXG4gICAgdGhpcy5fYWJvdXQudGV4dENvbnRlbnQgPSB1c2VySW5mby5hYm91dDtcclxuICAgIHRoaXMuX2F2YXRhci5zcmMgPSB1c2VySW5mby5hdmF0YXI7XHJcbiAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3RvcihhbGxQb3B1cHMpIHtcclxuICAgIHN1cGVyKGFsbFBvcHVwcyk7XHJcbiAgICB0aGlzLl9uYW1lID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19wbGFjZS10aXRsZScpO1xyXG4gICAgdGhpcy5fbGluayA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UtZWxlbWVudCcpO1xyXG4gIH1cclxuICBcclxuICAvL9Cf0LXRgNC10LfQsNC/0LjRgdGMINGA0L7QtNC40YLQtdC70YzRgdC60L7Qs9C+INC80LXRgtC+0LTQsCDQtNC70Y8g0L7RgtC60YDRi9GC0LjRj1xyXG4gIG9wZW4obmFtZSwgbGluaykge1xyXG4gICAgdGhpcy5fbGluay5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5fbGluay5hbHQgPSBuYW1lO1xyXG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59IiwiaW1wb3J0ICcuLy4uL3BhZ2VzL2luZGV4LmNzcyc7XHJcblxyXG5pbXBvcnQge1xyXG4gIGFkZENhcmRCdXR0b24sXHJcbiAgcG9wdXBBZGRDYXJkLFxyXG4gIHByb2ZpbGVFZGl0QnV0dG9uLFxyXG4gIHBvcHVwUHJvZmlsZSxcclxuICBuYW1lRmllbGQsXHJcbiAgcHJvZmlsZVRpdGxlLFxyXG4gIGFib3V0RmllbGQsXHJcbiAgcHJvZmlsZVN1YnRpdGxlLFxyXG4gIGNhcmRzTGlzdCxcclxuICBwb3B1cEltYWdlLFxyXG4gIGNvbmZpZyxcclxuICBmb3JtRWxlbWVudFByb2ZpbGUsXHJcbiAgZm9ybUVsZW1lbnRDYXJkLFxyXG4gIHBvcHVwQXZhdGFyLFxyXG4gIG5ld0F2YXRhckJ1dHRvbixcclxuICBwcm9maWxlQXZhdGFyLFxyXG4gIHBvcHVwQ29uZmlybVxyXG59IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XHJcblxyXG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcclxuaW1wb3J0IENhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XHJcbmltcG9ydCBQb3B1cEZvckNvbmZpcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cEZvckNvbmZpcm0uanMnO1xyXG5cclxubGV0IHVzZXJJZDtcclxuXHJcbi8v0KHQvtC30LTQsNC90LjQtSDRjdC60LfQtdC80LvRj9GA0LAg0LrQu9Cw0YHRgdCwINC00LvRjyDQv9C+0LvRg9GH0LXQvdC40Y8g0LTQsNC90L3Ri9GFINGBINGB0LXRgNCy0LXRgNCwXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoY29uZmlnLmhvc3QsIGNvbmZpZy50b2tlbik7XHJcblxyXG4vL9Cf0L7Qu9GD0YfQtdC90LjQtSDQtNCw0L3QvdGL0YUg0YEg0YHQtdGA0LLQtdGA0LBcclxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0Q2FyZHMoKV0pXHJcbiAgLnRoZW4oKFt1c2VyRGF0YSwgaXRlbXNdKSA9PiB7XHJcbiAgICB1c2VySWQgPSB1c2VyRGF0YS5faWQ7XHJcbiAgICBwcm9maWxlSW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YSk7XHJcbiAgICBjYXJkTGlzdC5zZXRJdGVtcyhpdGVtcyk7XHJcbiAgICBjYXJkTGlzdC5yZW5kZXJJdGVtKGl0ZW1zKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICB1c2VyTmFtZTogcHJvZmlsZVRpdGxlLFxyXG4gIHVzZXJBYm91dDogcHJvZmlsZVN1YnRpdGxlLFxyXG4gIHVzZXJBdmF0YXI6IHByb2ZpbGVBdmF0YXIsXHJcbn0pO1xyXG5cclxuLy9D0L7RhdGA0LDQvdC10L3QuNC1INC30LDQv9C+0LvQvdC10L3QvdC+0Lkg0YTQvtGA0LzRiyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXHJcbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVQb3B1cCh1c2VyRGF0YSkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuc2V0UHJvZmlsZUluZm8odXNlckRhdGEpO1xyXG4gICAgcHJvZmlsZUluZm8uc2V0VXNlckluZm8ocmVzKTtcclxuICAgIHByb2ZpbGVQb3B1cC5jbG9zZSgpO1xyXG4gIH1cclxuICBjYXRjaChlcnJvcikge1xyXG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gIH1cclxufTtcclxuXHJcbi8vXCLQodC70YPRiNCw0YLQtdC70YxcIiDQtNC70Y8g0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRj1xyXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBwcm9maWxlUG9wdXAub3BlbigpO1xyXG4gIGNvbnN0IHByb2ZpbGVJbnB1dFZhbHVlcyA9IHByb2ZpbGVJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgbmFtZUZpZWxkLnZhbHVlID0gcHJvZmlsZUlucHV0VmFsdWVzLm5hbWU7XHJcbiAgYWJvdXRGaWVsZC52YWx1ZSA9IHByb2ZpbGVJbnB1dFZhbHVlcy5hYm91dDtcclxuICBmb3JtUHJvZmlsZVZhbGlkYXRpb24ucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgZm9ybVByb2ZpbGVWYWxpZGF0aW9uLmRpc2FibGVkU3VibWl0QnV0dG9uKCk7XHJcbn0pO1xyXG5cclxuLy/QodC+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQv9C70Y/RgNCwINC60LvQsNGB0YHQsCBQb3B1cFdpdGhGb3JtINC00LvRjyDQv9C+0L/QsNC/0LAg0L/RgNC+0YTQuNC70Y9cclxuY29uc3QgcHJvZmlsZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBQcm9maWxlLCBoYW5kbGVQcm9maWxlUG9wdXApO1xyXG5wcm9maWxlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8v0KHQvtC30LTQsNC90LjQtSDQvdC+0LLRi9GFINC60LDRgNGC0L7Rh9C10Log0LzQtdGB0YJcclxuY29uc3QgY3JlYXRlQ2FyZCA9IChkYXRhKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGRhdGEsICcuZWxlbWVudC10ZW1wbGF0ZScsIGhhbmRsZUNhcmRDbGljaywge1xyXG4gICAgdXNlcklkOiB1c2VySWR9LCBoYW5kbGVEZWxldGluZ1N1Ym1pdCk7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4gIHJldHVybiBjYXJkRWxlbWVudDtcclxufVxyXG5cclxuLy/QntGC0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsCDQtNC70Y8g0L/QvtC00YLQstC10YDQttC00LXQvdC40Y8g0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0aW5nU3VibWl0KGRhdGEpIHtcclxuICBkZWxldGluZ1BvcHVwLm9wZW4oKTtcclxuICBkZWxldGluZ1BvcHVwLmdldENhcmRPYmplY3QoZGF0YSk7XHJcbn1cclxuXHJcbi8v0JLRi9C30L7QsiDQvNC10YLQvtC00LAg0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4INC90LAg0YHQtdGA0LLQtdGA0LVcclxuZnVuY3Rpb24gaGFuZGxlU3VibWl0QWN0aW9uKGRhdGEpIHtcclxuICBhcGkuZGVsZXRlQ2FyZChkYXRhKVxyXG4gIC50aGVuKCgpID0+IHtcclxuICAgIGRhdGEuZGVsZXRlKCk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycm9yKSA9PlxyXG4gICAgY29uc29sZS5sb2coZXJyb3IpKTtcclxuICB9XHJcblxyXG4vL9CS0YvQvdC+0YHQuNC8IGNhcmRMaXN0INCyINC+0LHRidGD0Y4g0LfQvtC90YMg0LLQuNC00LjQvNC+0YHRgtC4XHJcbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oe1xyXG4gIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGl0ZW0pO1xyXG4gICAgY2FyZExpc3QuYWRkSXRlbShjYXJkRWxlbWVudCk7XHJcbiAgICB9LFxyXG4gIH0sIFxyXG4gIGNhcmRzTGlzdCBcclxuICApO1xyXG5cclxuLy/QodC+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQv9C70Y/RgNCwINC60LvQsNGB0YHQsCBQb3B1cFdpdGhGb3JtINC00LvRjyDQv9C+0L/QsNC/0LAg0YEg0LrQsNGA0YLQvtGH0LrQsNC80LhcclxuY29uc3QgbmV3Q2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBBZGRDYXJkLCB7IHN1Ym1pdEZvcm06IGhhbmRsZXJDYXJkU3VibWl0IH0pO1xyXG5uZXdDYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vXCLQodC70YPRiNCw0YLQtdC70YxcIiDQtNC70Y8g0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxyXG5hZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIG5ld0NhcmRQb3B1cC5vcGVuKCk7XHJcbiAgZm9ybUNhcmRWYWxpZGF0aW9uLnJlc2V0VmFsaWRhdGlvbigpO1xyXG59KVxyXG5cclxuLy/QodC+0LfQtNCw0L3QuNC1INC60LDRgNGC0L7Rh9C60Lgg0LjQtyDQt9Cw0L/QvtC70L3QtdC90L3QvtC5INGE0L7RgNC80YtcclxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlckNhcmRTdWJtaXQoZGF0YSkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuYWRkQ2FyZChkYXRhKTtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZChyZXMpO1xyXG4gICAgY2FyZExpc3QuYWRkSXRlbShjYXJkRWxlbWVudCk7XHJcbiAgICBuZXdDYXJkUG9wdXAuY2xvc2UoKTtcclxuICB9XHJcbiAgY2F0Y2goZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICB9XHJcbn07XHJcblxyXG4vL9Ce0YLQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwINGBINC40LfQvtCx0YDQsNC20LXQvdC40LXQvFxyXG5jb25zdCBoYW5kbGVDYXJkQ2xpY2sgPSAobmFtZSwgbGluaykgPT4ge1xyXG4gIGltYWdlUG9wdXAub3BlbihuYW1lLCBsaW5rKTtcclxufVxyXG5cclxuLy/QodC+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQv9C70Y/RgNCwINC60LvQsNGB0YHQsCBQb3B1cFdpdGhJbWFnZSDQtNC70Y8g0L/QvtC/0LDQv9CwINGBINC40LfQvtCx0YDQsNC20LXQvdC40Y/QvNC4XHJcbmNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UocG9wdXBJbWFnZSk7XHJcbmltYWdlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8v0KHQvtC30LTQsNC90LjQtSDRjdC60LfQtdC80L/Qu9GP0YDQsCDQutC70LDRgdGB0LAgUG9wdXBXaXRoRm9ybSDQtNC70Y8g0L/QvtC/0LDQv9CwINC40LfQvNC10L3QtdC90LjRjyDQsNCy0LDRgtCw0YDQsFxyXG5jb25zdCBuZXdBdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwQXZhdGFyLCBoYW5kbGVBdmF0YXJTdWJtaXQpO1xyXG5uZXdBdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpOyAgXHJcblxyXG4vL9Ch0L7Qt9C00LDQvdC40LUg0Y3QutC30LXQvNC/0LvRj9GA0LAg0LrQu9Cw0YHRgdCwIFBvcHVwV2l0aEZvcm0g0LTQu9GPINC/0L7Qv9Cw0L/QsCDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjRjyDRg9C00LDQu9C10L3QuNGPXHJcbmNvbnN0IGRlbGV0aW5nUG9wdXAgPSBuZXcgUG9wdXBGb3JDb25maXJtKHBvcHVwQ29uZmlybSwgaGFuZGxlU3VibWl0QWN0aW9uKTtcclxuXHJcbmRlbGV0aW5nUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTsgIFxyXG5cclxuLy9cItCh0LvRg9GI0LDRgtC10LvRjFwiINC00LvRjyDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDQuNC30LzQtdC90LXQvdC40Y8g0LDQstCw0YLQsNGA0LBcclxubmV3QXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIG5ld0F2YXRhclBvcHVwLm9wZW4oKTtcclxufSlcclxuXHJcbi8vQ9C+0YXRgNCw0L3QtdC90LjQtSDQt9Cw0L/QvtC70L3QtdC90L3QvtC5INGE0L7RgNC80Ysg0LjQt9C80LXQvdC10L3QuNGPINCw0LLQsNGC0LDRgNCwXHJcbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZUF2YXRhclN1Ym1pdCh1c2VyRGF0YSkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuc2V0TmV3QXZhdGFyKHVzZXJEYXRhKTtcclxuICAgIHByb2ZpbGVJbmZvLnNldFVzZXJJbmZvKHJlcyk7XHJcbiAgICBwcm9maWxlUG9wdXAuY2xvc2UoKTtcclxuICB9XHJcbiAgY2F0Y2goZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICB9XHJcbn07XHJcblxyXG4vL9CS0LDQu9C40LTQsNGG0LjRj1xyXG5jb25zdCBmb3JtUHJvZmlsZVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtRWxlbWVudFByb2ZpbGUsIGNvbmZpZyk7XHJcbmNvbnN0IGZvcm1DYXJkVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1FbGVtZW50Q2FyZCwgY29uZmlnKTtcclxuZm9ybVByb2ZpbGVWYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuZm9ybUNhcmRWYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTsiLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cEZvckNvbmZpcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IgKGFsbFBvcHVwcywgc3VibWl0Rm9ybSkge1xyXG4gICAgc3VwZXIoYWxsUG9wdXBzKTtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuICAgIHRoaXMuX3N1Ym1pdEZvcm0gPSBzdWJtaXRGb3JtO1xyXG4gIH1cclxuXHJcbiAgb3BlbihkYXRhLCBjYXJkKSB7XHJcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcclxuICAgIHRoaXMuX2NhcmQgPSBjYXJkO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxuXHJcbi8v0J/QvtC70YPRh9C40YLRjCDQvtCx0YrQtdC60YIg0LrQsNGA0YLQvtGH0LrQuFxyXG4gIGdldENhcmRPYmplY3QoZGF0YSkge1xyXG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5fc3VibWl0Rm9ybSh0aGlzLl9kYXRhKTtcclxuICAgIH0pO1xyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJwb3B1cEltYWdlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYWRkQ2FyZEJ1dHRvbiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwb3B1cEFkZENhcmQiLCJwcm9maWxlRWRpdEJ1dHRvbiIsInBvcHVwUHJvZmlsZSIsIm5hbWVGaWVsZCIsInByb2ZpbGVUaXRsZSIsImFib3V0RmllbGQiLCJwcm9maWxlU3VidGl0bGUiLCJmb3JtRWxlbWVudFByb2ZpbGUiLCJmb3JtRWxlbWVudENhcmQiLCJjYXJkc0xpc3QiLCJwb3B1cEF2YXRhciIsIm5ld0F2YXRhckJ1dHRvbiIsInByb2ZpbGVBdmF0YXIiLCJwb3B1cENvbmZpcm0iLCJjb25maWciLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvclZpc2libGVDbGFzcyIsImhvc3QiLCJ0b2tlbiIsIkFwaSIsInRoaXMiLCJfaG9zdCIsIl90b2tlbiIsIl9nZXRKc29uT3JFcnJvciIsImJpbmQiLCJfZ2V0SGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJyZXMiLCJvayIsImpzb24iLCJFcnJvciIsInN0YXR1cyIsImZldGNoIiwiaGVhZGVycyIsInRoZW4iLCJkYXRhIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJuYW1lIiwiYWJvdXQiLCJhdmF0YXIiLCJfaWQiLCJDYXJkIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlRGVsZXRpbmdTdWJtaXQiLCJ1c2VySWQiLCJfbmFtZSIsIl9saW5rIiwibGluayIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2NhcmRPd25lcklkIiwib3duZXIiLCJfY2FyZElkIiwiX2hhbmRsZURlbGV0aW5nU3VibWl0IiwiX2RhdGEiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfaW1hZ2VFbGVtZW50IiwiX3RpdGxlSW1hZ2VFbGVtZW50IiwiX2NhcmREZWxldGVCdXR0b24iLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsInN0eWxlIiwiZGlzcGxheSIsIl9saWtlQnV0dG9uIiwiX2NhcmRJbWFnZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlTGlrZUNsaWNrIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwicmVtb3ZlIiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50IiwiX2Zvcm1FbGVtZW50IiwiX2NvbmZpZyIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJfc3VibWl0QnV0dG9uRWxlbWVudCIsImlucHV0RWxlbWVudCIsImVycm9yRWxlbWVudCIsImlkIiwiZXJyb3JNZXNzYWdlIiwiYWRkIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwic29tZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlZCIsImZvckVhY2giLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiU2VjdGlvbiIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW1zIiwiX3JlbmRlcmVkSXRlbXMiLCJpdGVtIiwicHJlcGVuZCIsIlBvcHVwIiwiYWxsUG9wdXBzIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwic3VibWl0Rm9ybSIsIl9mb3JtIiwiX2lucHV0cyIsIl9zdWJtaXRGb3JtIiwidmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJVc2VySW5mbyIsInVzZXJOYW1lIiwidXNlckFib3V0IiwidXNlckF2YXRhciIsIl9hYm91dCIsIl9hdmF0YXIiLCJ1c2VySW5mbyIsIlBvcHVwV2l0aEltYWdlIiwiUG9wdXBGb3JDb25maXJtIiwiY2FyZCIsIl9jYXJkIiwiYXBpIiwiUHJvbWlzZSIsImFsbCIsImdldFVzZXJJbmZvIiwiZ2V0Q2FyZHMiLCJ1c2VyRGF0YSIsInByb2ZpbGVJbmZvIiwic2V0VXNlckluZm8iLCJjYXJkTGlzdCIsInNldEl0ZW1zIiwicmVuZGVySXRlbSIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsInNldFByb2ZpbGVJbmZvIiwicHJvZmlsZVBvcHVwIiwib3BlbiIsInByb2ZpbGVJbnB1dFZhbHVlcyIsImZvcm1Qcm9maWxlVmFsaWRhdGlvbiIsInJlc2V0VmFsaWRhdGlvbiIsImRpc2FibGVkU3VibWl0QnV0dG9uIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJjcmVhdGVDYXJkIiwiZ2VuZXJhdGVDYXJkIiwiZGVsZXRpbmdQb3B1cCIsImdldENhcmRPYmplY3QiLCJjYXJkRWxlbWVudCIsImFkZEl0ZW0iLCJuZXdDYXJkUG9wdXAiLCJhZGRDYXJkIiwiZm9ybUNhcmRWYWxpZGF0aW9uIiwiaW1hZ2VQb3B1cCIsIm5ld0F2YXRhclBvcHVwIiwiZGVsZXRlQ2FyZCIsImRlbGV0ZSIsImVycm9yIiwic2V0TmV3QXZhdGFyIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=