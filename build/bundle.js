(()=>{"use strict";var e=document.querySelector(".popup_open-image"),t=(document.querySelector(".popup__image-element"),document.querySelector(".popup__place-title"),document.querySelectorAll(".popup"),document.querySelector(".profile__add")),n=document.querySelector(".popup_add-card"),r=document.querySelector(".profile__edit"),o=document.querySelector(".popup_profile"),i=document.querySelector(".popup__input_name"),u=document.querySelector(".profile__title"),c=document.querySelector(".popup__input_about"),a=document.querySelector(".profile__subtitle"),l=document.querySelector(".popup__form_profile"),s=(document.querySelector(".popup__input_place"),document.querySelector(".popup__input_link"),document.querySelector(".popup__form_new-card")),p=document.querySelector(".elements__list"),f={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inputErrorClass:"popup__input_type_error",errorVisibleClass:"popup__error-visible",host:"https://mesto.nomoreparties.co/v1/cohort-47",token:"f085916c-6915-4c31-bcde-3cb49b2623b6"};function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._host=t,this._token=n}var t,n;return t=e,(n=[{key:"getCards",value:function(){return fetch("".concat(this._host,"/cards"),{headers:{authorization:this._token}}).then((function(e){if(e.ok)return e.json();throw new Error("Ошибка: ".concat(e.status))}))}}])&&_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._cardSelector=n,this._handleCardClick=r}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._imageElement=this._element.querySelector(".element__image"),this._titleImageElement=this._element.querySelector(".element__title"),this._setEventListeners(),this._imageElement.src=this._link,this._imageElement.alt=this._name,this._titleImageElement.textContent=this._name,this._element}},{key:"_setEventListeners",value:function(){var e=this;this._likeButton=this._element.querySelector(".element__like"),this._cardImage=this._element.querySelector(".element__image"),this._likeButton.addEventListener("click",(function(){e._handleLikeClick()})),this._element.querySelector(".element__delete").addEventListener("click",(function(){e._handleDeleteClick()})),this._cardImage.addEventListener("click",(function(){e._handleCardClick(e._name,e._link)}))}},{key:"_handleLikeClick",value:function(){this._likeButton.classList.toggle("element__like_active")}},{key:"_handleDeleteClick",value:function(){this._element.remove(),this._element=null}}])&&h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formElement=t,this._config=n,this._inputList=Array.from(t.querySelectorAll(this._config.inputSelector)),this._submitButtonElement=t.querySelector(this._config.submitButtonSelector)}var t,n;return t=e,(n=[{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._config.inputErrorClass),t.classList.remove(this._config.errorVisibleClass),t.textContent=""}},{key:"_showInputError",value:function(e,t){var n=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(this._config.inputErrorClass),n.textContent=t,n.classList.add(this._config.errorVisibleClass)}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._submitButtonElement.disabled=!0:this._submitButtonElement.disabled=!1}},{key:"disabledSubmitButton",value:function(){this._submitButtonElement.disabled=!0}},{key:"_setEventListeners",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"resetValidation",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderedItems=r,this._renderer=o,this._container=n}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderItem",value:function(){var e=this;this._renderedItems.forEach((function(t){e._renderer(t)}))}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=t,this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup_opened")||t.target.classList.contains("popup__close"))&&e.close()}))}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=j(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},O.apply(this,arguments)}function j(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function L(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(r);if(o){var n=P(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return L(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._form=n._popup.querySelector(".popup__form"),n._inputs=n._form.querySelectorAll(".popup__input"),n._submitForm=t,n}return t=u,(n=[{key:"_getInputValues",value:function(){var e={};return this._inputs.forEach((function(t){e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){var e=this;O(P(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submitForm(e._getInputValues()),e.close()}))}},{key:"close",value:function(){O(P(u.prototype),"close",this).call(this),this._form.reset()}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(w);function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var B=function(){function e(t){var n=t.userName,r=t.userAbout;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=n,this._about=r}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent}}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._about.textContent=e.about}}])&&I(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(){return V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=x(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},V.apply(this,arguments)}function x(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=U(e)););return e}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function A(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=U(r);if(o){var n=U(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return A(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._name=t._popup.querySelector(".popup__place-title"),t._link=t._popup.querySelector(".popup__image-element"),t}return t=u,(n=[{key:"open",value:function(e,t){this._link.src=t,this._link.alt=e,this._name.textContent=e,V(U(u.prototype),"open",this).call(this)}}])&&T(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(w),F=new B({userName:u,userAbout:a});r.addEventListener("click",(function(){z.open();var e=F.getUserInfo();i.value=e.name,c.value=e.about,K.resetValidation(),K.disabledSubmitButton()}));var z=new q(o,(function(e){F.setUserInfo(e)}));z.setEventListeners();var M=new y(f.host,f.token),G=function(e){return new d(e,".element-template",H).generateCard()};M.getCards().then((function(e){var r=new g({items:e,renderer:function(e){var t=G(e);r.addItem(t)}},p);r.renderItem();var o=new q(n,i);o.setEventListeners(),t.addEventListener("click",(function(){o.open(),Q.resetValidation()}));var i=function(e){var t=G(e);r.addItem(t),o.close()}}));var H=function(e,t){J.open(e,t)},J=new N(e);J.setEventListeners();var K=new v(l,f),Q=new v(s,f);K.enableValidation(),Q.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJtQkFBTyxJQUFNQSxFQUFhQyxTQUFTQyxjQUFjLHFCQUlwQ0MsR0FIZUYsU0FBU0MsY0FBYyx5QkFDckJELFNBQVNDLGNBQWMsdUJBQzVCRCxTQUFTRyxpQkFBaUIsVUFDdEJILFNBQVNDLGNBQWMsa0JBQ3ZDRyxFQUFlSixTQUFTQyxjQUFjLG1CQUN0Q0ksRUFBb0JMLFNBQVNDLGNBQWMsa0JBQzNDSyxFQUFlTixTQUFTQyxjQUFjLGtCQUN0Q00sRUFBWVAsU0FBU0MsY0FBYyxzQkFDbkNPLEVBQWVSLFNBQVNDLGNBQWMsbUJBQ3RDUSxFQUFhVCxTQUFTQyxjQUFjLHVCQUNwQ1MsRUFBa0JWLFNBQVNDLGNBQWMsc0JBQ3pDVSxFQUFxQlgsU0FBU0MsY0FBYyx3QkFHNUNXLEdBRmFaLFNBQVNDLGNBQWMsdUJBQ3hCRCxTQUFTQyxjQUFjLHNCQUNqQkQsU0FBU0MsY0FBYywwQkFDekNZLEVBQVliLFNBQVNDLGNBQWMsbUJBQ25DYSxFQUFTLENBQ3BCQyxhQUFjLGVBQ2RDLGNBQWUsZ0JBQ2ZDLHFCQUFzQixpQkFDdEJDLGdCQUFpQiwwQkFDakJDLGtCQUFtQix1QkFDbkJDLEtBQU0sOENBQ05DLE1BQU8sd0MsMEtDeEJZQyxFQUFBQSxXQUNuQixXQUFZRixFQUFNQyxJLDRGQUFPLFNBQ3ZCRSxLQUFLQyxNQUFRSixFQUNiRyxLQUFLRSxPQUFTSixDQUNmLEMsNkNBR0QsV0FDRSxPQUFPSyxNQUFNLEdBQUQsT0FBSUgsS0FBS0MsTUFBVCxVQUF3QixDQUNsQ0csUUFBUyxDQUNQQyxjQUFlTCxLQUFLRSxVQUd2QkksTUFBSyxTQUFBQyxHQUNKLEdBQUlBLEVBQUlDLEdBQ04sT0FBT0QsRUFBSUUsT0FHYixNQUFNLElBQUlDLE1BQUosa0JBQXFCSCxFQUFJSSxRQUNoQyxHQUNGLE0sc0VBcEJrQlosRywwS0NBQWEsRUFBQUEsV0FDbkIsV0FBWUMsRUFBTUMsRUFBY0MsSSw0RkFBaUIsU0FDL0NmLEtBQUtnQixNQUFRSCxFQUFLSSxLQUNsQmpCLEtBQUtrQixNQUFRTCxFQUFLTSxLQUNsQm5CLEtBQUtvQixjQUFnQk4sRUFDckJkLEtBQUtxQixpQkFBbUJOLENBQ3pCLEMsaURBR0QsV0FPQSxPQU5zQnRDLFNBQ25CQyxjQUFjc0IsS0FBS29CLGVBQ25CRSxRQUNBNUMsY0FBYyxZQUNkNkMsV0FBVSxFQUdaLEcsMEJBR0QsV0FZRSxPQVZBdkIsS0FBS3dCLFNBQVd4QixLQUFLeUIsZUFDckJ6QixLQUFLMEIsY0FBZ0IxQixLQUFLd0IsU0FBUzlDLGNBQWMsbUJBQ2pEc0IsS0FBSzJCLG1CQUFxQjNCLEtBQUt3QixTQUFTOUMsY0FBYyxtQkFDdERzQixLQUFLNEIscUJBR0w1QixLQUFLMEIsY0FBY0csSUFBTTdCLEtBQUtrQixNQUM5QmxCLEtBQUswQixjQUFjSSxJQUFNOUIsS0FBS2dCLE1BQzlCaEIsS0FBSzJCLG1CQUFtQkksWUFBYy9CLEtBQUtnQixNQUVwQ2hCLEtBQUt3QixRQUNiLEcsZ0NBR0QsV0FBcUIsV0FHbkJ4QixLQUFLZ0MsWUFBY2hDLEtBQUt3QixTQUFTOUMsY0FBYyxrQkFDL0NzQixLQUFLaUMsV0FBYWpDLEtBQUt3QixTQUFTOUMsY0FBYyxtQkFFOUNzQixLQUFLZ0MsWUFBWUUsaUJBQWlCLFNBQVMsV0FDM0MsRUFBS0Msa0JBQ0osSUFFRG5DLEtBQUt3QixTQUFTOUMsY0FBYyxvQkFBb0J3RCxpQkFBaUIsU0FBUyxXQUMxRSxFQUFLRSxvQkFDSixJQUVEcEMsS0FBS2lDLFdBQVdDLGlCQUFpQixTQUFTLFdBQzFDLEVBQUtiLGlCQUFpQixFQUFLTCxNQUFPLEVBQUtFLE1BQ3RDLEdBQ0YsRyw4QkFHRCxXQUNFbEIsS0FBS2dDLFlBQVlLLFVBQVVDLE9BQU8sdUJBQ25DLEcsZ0NBRUQsV0FDRXRDLEtBQUt3QixTQUFTZSxTQUNkdkMsS0FBS3dCLFNBQVcsSUFDakIsTSxzRUEvRGtCWixHLDBLQ0FBNEIsRUFBQUEsV0FDbkIsV0FBWUMsRUFBYWxELEksNEZBQVEsU0FDL0JTLEtBQUswQyxhQUFlRCxFQUNwQnpDLEtBQUsyQyxRQUFVcEQsRUFDZlMsS0FBSzRDLFdBQWFDLE1BQU1DLEtBQUtMLEVBQVk3RCxpQkFBaUJvQixLQUFLMkMsUUFBUWxELGdCQUN2RU8sS0FBSytDLHFCQUF1Qk4sRUFBWS9ELGNBQWNzQixLQUFLMkMsUUFBUWpELHFCQUNwRSxDLG9EQUdELFNBQWdCc0QsR0FDZCxJQUFNQyxFQUFlakQsS0FBSzBDLGFBQWFoRSxjQUFsQixXQUFvQ3NFLEVBQWFFLEdBQWpELFdBQ3JCRixFQUFhWCxVQUFVRSxPQUFPdkMsS0FBSzJDLFFBQVFoRCxpQkFDM0NzRCxFQUFhWixVQUFVRSxPQUFPdkMsS0FBSzJDLFFBQVEvQyxtQkFDM0NxRCxFQUFhbEIsWUFBYyxFQUM1QixHLDZCQUdELFNBQWdCaUIsRUFBY0csR0FDNUIsSUFBTUYsRUFBZWpELEtBQUswQyxhQUFhaEUsY0FBbEIsV0FBb0NzRSxFQUFhRSxHQUFqRCxXQUNyQkYsRUFBYVgsVUFBVWUsSUFBSXBELEtBQUsyQyxRQUFRaEQsaUJBQ3hDc0QsRUFBYWxCLFlBQWNvQixFQUMzQkYsRUFBYVosVUFBVWUsSUFBSXBELEtBQUsyQyxRQUFRL0Msa0JBQ3pDLEcsaUNBR0QsU0FBb0JvRCxHQUNiQSxFQUFhSyxTQUFTQyxNQUd6QnRELEtBQUt1RCxnQkFBZ0JQLEdBRnJCaEQsS0FBS3dELGdCQUFnQlIsRUFBY0EsRUFBYVMsa0JBSW5ELEcsOEJBR0QsV0FDRSxPQUFPekQsS0FBSzRDLFdBQVdjLE1BQUssU0FBQ1YsR0FDM0IsT0FBUUEsRUFBYUssU0FBU0MsS0FDL0IsR0FDRixHLGdDQUdELFdBQ010RCxLQUFLMkQsbUJBQ1AzRCxLQUFLK0MscUJBQXFCYSxVQUFXLEVBRXJDNUQsS0FBSytDLHFCQUFxQmEsVUFBVyxDQUV4QyxHLGtDQUdELFdBQ0U1RCxLQUFLK0MscUJBQXFCYSxVQUFXLENBQ3RDLEcsZ0NBR0QsV0FBcUIsV0FDbkI1RCxLQUFLNEMsV0FBV2lCLFNBQVEsU0FBQ2IsR0FDdkJBLEVBQWFkLGlCQUFpQixTQUFTLFdBQ3JDLEVBQUs0QixvQkFBb0JkLEdBQ3pCLEVBQUtlLG9CQUNOLEdBQ0YsR0FDRixHLDZCQUdELFdBQWtCLFdBQ2hCL0QsS0FBSytELHFCQUVML0QsS0FBSzRDLFdBQVdpQixTQUFRLFNBQUNiLEdBQ3RCLEVBQUtPLGdCQUFnQlAsRUFDdkIsR0FDRixHLDhCQUVELFdBQ0VoRCxLQUFLNEIsb0JBQ04sTSxzRUEzRWtCWSxHLDBLQ0FBd0IsRUFBQUEsV0FFbkIsYUFBaUMxRSxHQUFXLElBQTlCMkUsRUFBOEIsRUFBOUJBLE1BQU9DLEVBQXVCLEVBQXZCQSxVLDRGQUF1QixTQUMxQ2xFLEtBQUttRSxlQUFpQkYsRUFDdEJqRSxLQUFLb0UsVUFBWUYsRUFDakJsRSxLQUFLcUUsV0FBYS9FLENBQ25CLEMsNENBRUQsU0FBUWdGLEdBRU50RSxLQUFLcUUsV0FBV0UsUUFBUUQsRUFDekIsRyx3QkFHRCxXQUFhLFdBQ1h0RSxLQUFLbUUsZUFBZU4sU0FBUSxTQUFDUyxHQUMzQixFQUFLRixVQUFVRSxFQUNoQixHQUNGLE0sc0VBbEJrQk4sRywwS0NBQVEsRUFBQUEsV0FFbkIsV0FBWUMsSSw0RkFBVyxTQUNyQnpFLEtBQUswRSxPQUFTRCxFQUNkekUsS0FBSzJFLGdCQUFrQjNFLEtBQUsyRSxnQkFBZ0JDLEtBQUs1RSxLQUNsRCxDLHlDQUdELFdBQ0VBLEtBQUswRSxPQUFPckMsVUFBVWUsSUFBSSxnQkFDMUIzRSxTQUFTeUQsaUJBQWlCLFVBQVdsQyxLQUFLMkUsZ0JBQzNDLEcsbUJBR0QsV0FDRTNFLEtBQUswRSxPQUFPckMsVUFBVUUsT0FBTyxnQkFDN0I5RCxTQUFTb0csb0JBQW9CLFVBQVc3RSxLQUFLMkUsZ0JBQzlDLEcsNkJBR0QsU0FBZ0JHLEdBQ0UsV0FBWkEsRUFBSUMsS0FDTi9FLEtBQUtnRixPQUVSLEcsK0JBR0QsV0FBb0IsV0FDbEJoRixLQUFLMEUsT0FBT3hDLGlCQUFpQixhQUFhLFNBQUMrQyxJQUVyQ0EsRUFBRUMsT0FBTzdDLFVBQVU4QyxTQUFTLGlCQUM1QkYsRUFBRUMsT0FBTzdDLFVBQVU4QyxTQUFTLGtCQUU1QixFQUFLSCxPQUVSLEdBQ0osTSxzRUFwQ2tCUixHLHl3Q0NFQVksRUFBQUEsU0FBQUEsSSw2ckJBRW5CLFdBQWFYLEVBQVdZLEdBQVksYSw0RkFBQSxVQUNsQyxjQUFNWixJQUNEYSxNQUFRLEVBQUtaLE9BQU9oRyxjQUFjLGdCQUN2QyxFQUFLNkcsUUFBVSxFQUFLRCxNQUFNMUcsaUJBQWlCLGlCQUMzQyxFQUFLNEcsWUFBY0gsRUFKZSxDQUtuQyxDLDRDQUdELFdBQ0UsSUFBTUksRUFBUyxDQUFDLEVBSWhCLE9BSEF6RixLQUFLdUYsUUFBUTFCLFNBQVEsU0FBQTZCLEdBQ25CRCxFQUFPQyxFQUFNekUsTUFBUXlFLEVBQU1DLEtBQzVCLElBQ01GLENBQ1IsRywrQkFHRCxXQUFvQixXQUNsQixzREFDQXpGLEtBQUtzRixNQUFNcEQsaUJBQWlCLFVBQVUsU0FBQzRDLEdBQ3JDQSxFQUFJYyxpQkFDSixFQUFLSixZQUFZLEVBQUtLLG1CQUN0QixFQUFLYixPQUNOLEdBQ0YsRyxtQkFHRCxXQUNFLDBDQUNBaEYsS0FBS3NGLE1BQU1RLE9BQ1osTSxzRUFoQ2tCVixDQUFzQlosRywwS0NGdEJ1QixFQUFBQSxXQUVuQixjQUFxQyxJQUF2QkMsRUFBdUIsRUFBdkJBLFNBQVVDLEVBQWEsRUFBYkEsVyw0RkFBYSxTQUNuQ2pHLEtBQUtnQixNQUFRZ0YsRUFDYmhHLEtBQUtrRyxPQUFTRCxDQUNmLEMsZ0RBR0QsV0FLRSxNQUppQixDQUNmaEYsS0FBTWpCLEtBQUtnQixNQUFNZSxZQUNqQm9FLE1BQU9uRyxLQUFLa0csT0FBT25FLFlBR3RCLEcseUJBR0QsU0FBWXFFLEdBQ1ZwRyxLQUFLZ0IsTUFBTWUsWUFBY3FFLEVBQVNuRixLQUNsQ2pCLEtBQUtrRyxPQUFPbkUsWUFBY3FFLEVBQVNELEtBQ3BDLE0sc0VBcEJrQkosRyx5d0NDRUFNLEVBQUFBLFNBQUFBLEksNnJCQUNuQixXQUFZNUIsR0FBVyxhLDRGQUFBLFVBQ3JCLGNBQU1BLElBQ0R6RCxNQUFRLEVBQUswRCxPQUFPaEcsY0FBYyx1QkFDdkMsRUFBS3dDLE1BQVEsRUFBS3dELE9BQU9oRyxjQUFjLHlCQUhsQixDQUl0QixDLGlDQUdELFNBQUt1QyxFQUFNRSxHQUNUbkIsS0FBS2tCLE1BQU1XLElBQU1WLEVBQ2pCbkIsS0FBS2tCLE1BQU1ZLElBQU1iLEVBQ2pCakIsS0FBS2dCLE1BQU1lLFlBQWNkLEVBQ3pCLHdDQUNELE0sc0VBYmtCb0YsQ0FBdUI3QixHQ3lCdEM4QixFQUFjLElBQUlQLEVBQVMsQ0FDL0JDLFNBQVUvRyxFQUNWZ0gsVUFBVzlHLElBU2JMLEVBQWtCb0QsaUJBQWlCLFNBQVMsV0FDMUNxRSxFQUFhQyxPQUNiLElBQU1DLEVBQXFCSCxFQUFZSSxjQUN2QzFILEVBQVUyRyxNQUFRYyxFQUFtQnhGLEtBQ3JDL0IsRUFBV3lHLE1BQVFjLEVBQW1CTixNQUN0Q1EsRUFBc0JDLGtCQUN0QkQsRUFBc0JFLHNCQUN2QixJQUdELElBQU1OLEVBQWUsSUFBSW5CLEVBQWNyRyxHQWZaLFNBQUMrSCxHQUMxQlIsRUFBWVMsWUFBWUQsRUFDekIsSUFjRFAsRUFBYVMsb0JBT2IsSUFBTUMsRUFBTSxJQUFJbEgsRUFBSVIsRUFBT00sS0FBTU4sRUFBT08sT0FHbENvSCxFQUFhLFNBQUNyRyxHQUdsQixPQUZhLElBQUlELEVBQUtDLEVBQU0sb0JBQXFCRSxHQUN4Qm9HLGNBRTFCLEVBR0RGLEVBQUlHLFdBRUQ5RyxNQUFLLFNBQUMyRCxHQUNMLElBQU1vRCxFQUFXLElBQUlyRCxFQUFRLENBQUVDLE1BQUFBLEVBQzdCQyxTQUFVLFNBQUNJLEdBQ1QsSUFBTWdELEVBQWNKLEVBQVc1QyxHQUMvQitDLEVBQVNFLFFBQVFELEVBQ2hCLEdBRUhoSSxHQUVGK0gsRUFBU0csYUFHYixJQUFNQyxFQUFlLElBQUlyQyxFQUFjdkcsRUFBYzZJLEdBQ3JERCxFQUFhVCxvQkFHYnJJLEVBQWN1RCxpQkFBaUIsU0FBUyxXQUN0Q3VGLEVBQWFqQixPQUNibUIsRUFBbUJmLGlCQUNwQixJQUdELElBQU1jLEVBQW9CLFNBQUM3RyxHQUN6QixJQUFNeUcsRUFBY0osRUFBV3JHLEdBQy9Cd0csRUFBU0UsUUFBUUQsR0FDakJHLEVBQWF6QyxPQUNkLENBQ0UsSUFHSCxJQUFNakUsRUFBa0IsU0FBQ0UsRUFBTUUsR0FDN0J5RyxFQUFXcEIsS0FBS3ZGLEVBQU1FLEVBQ3ZCLEVBR0t5RyxFQUFhLElBQUl2QixFQUFlN0gsR0FDdENvSixFQUFXWixvQkFTWCxJQUFNTCxFQUF3QixJQUFJbkUsRUFBY3BELEVBQW9CRyxHQUM5RG9JLEVBQXFCLElBQUluRixFQUFjbkQsRUFBaUJFLEdBQzlEb0gsRUFBc0JrQixtQkFDdEJGLEVBQW1CRSxrQiIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHBvcHVwSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfb3Blbi1pbWFnZScpO1xyXG5leHBvcnQgY29uc3QgaW1hZ2VFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZS1lbGVtZW50Jyk7XHJcbmV4cG9ydCBjb25zdCBjYXB0aW9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fcGxhY2UtdGl0bGUnKTtcclxuZXhwb3J0IGNvbnN0IGFsbFBvcHVwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cCcpO1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQnKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwQWRkQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9hZGQtY2FyZCcpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdCcpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3Byb2ZpbGUnKTtcclxuZXhwb3J0IGNvbnN0IG5hbWVGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfbmFtZScpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX3RpdGxlJyk7XHJcbmV4cG9ydCBjb25zdCBhYm91dEZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF9hYm91dCcpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZVN1YnRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX3N1YnRpdGxlJyk7XHJcbmV4cG9ydCBjb25zdCBmb3JtRWxlbWVudFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm1fcHJvZmlsZScpO1xyXG5leHBvcnQgY29uc3QgcGxhY2VGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfcGxhY2UnKTtcclxuZXhwb3J0IGNvbnN0IGxpbmtGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfbGluaycpO1xyXG5leHBvcnQgY29uc3QgZm9ybUVsZW1lbnRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtX25ldy1jYXJkJyk7XHJcbmV4cG9ydCBjb25zdCBjYXJkc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2xpc3QnKTtcclxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLFxyXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fYnV0dG9uJyxcclxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXHJcbiAgZXJyb3JWaXNpYmxlQ2xhc3M6ICdwb3B1cF9fZXJyb3ItdmlzaWJsZScsXHJcbiAgaG9zdDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDcnLFxyXG4gIHRva2VuOiAnZjA4NTkxNmMtNjkxNS00YzMxLWJjZGUtM2NiNDliMjYyM2I2JyxcclxufTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKGhvc3QsIHRva2VuKSB7XHJcbiAgICB0aGlzLl9ob3N0ID0gaG9zdDtcclxuICAgIHRoaXMuX3Rva2VuID0gdG9rZW47XHJcbiAgfVxyXG5cclxuICAvL9Cc0LXRgtC+0LQsINC60L7RgtC+0YDRi9C5INCy0LXRgNC90LXRgiDQutCw0YDRgtC+0YfQutC4XHJcbiAgZ2V0Q2FyZHMoKXtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9ob3N0fS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgICB9LFxyXG4gICAgfSlcclxuICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH0pXHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSwgY2FyZFNlbGVjdG9yLCBoYW5kbGVDYXJkQ2xpY2spIHtcclxuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gIH1cclxuXHJcbiAgLy/QpNGD0L3QutGG0LjRjywg0YfRgtC+0LHRiyDQstC+0LfQstGA0LDRidCw0YLRjCDRgNCw0LfQvNC10YLQutGDINC4INC60LvQvtC90LjRgNC+0LLQsNGC0Ywg0Y3Qu9C10LzQtdC90YJcclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXHJcbiAgICAuY29udGVudFxyXG4gICAgLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50JylcclxuICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIC8v0KTRg9C90LrRhtC40Y8sINC60L7RgtC+0YDQsNGPINC/0L7QtNCz0L7RgtC+0LLQuNGCINC60LDRgNGC0L7Rh9C60YMg0Log0L/Rg9Cx0LvQuNC60LDRhtC40LhcclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICAvL9CX0LDQv9C40YHRjCDRgNCw0LfQvNC10YLQutC4INCyINC/0L7Qu9C1IGVsZW1lbnQsINGH0YLQvtCx0Ysg0YMg0LTRgNGD0LPQuNGFINGN0LvQtdC80LXQvdGC0L7QsiDQv9C+0Y/QstC40LvRgdGPINC00L7RgdGC0YPQvyDQuiDQvdC10LlcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5faW1hZ2VFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faW1hZ2UnKVxyXG4gICAgdGhpcy5fdGl0bGVJbWFnZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X190aXRsZScpXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIC8v0JTQvtCx0LDQstC70LXQvdC40LUg0LTQsNC90L3Ri9GFXHJcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2ltYWdlRWxlbWVudC5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fdGl0bGVJbWFnZUVsZW1lbnQudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgLy9cItCh0LvRg9GI0LDRgtC10LvQuFwiINGB0L7QsdGL0YLQuNC5INC00LvRjyDQu9Cw0LnQutCwLCDRg9C00LDQu9C10L3QuNGPINC4INC+0YLQutGA0YvRgtC40Y8g0LjQt9C+0LHRgNCw0LbQtdC90LjRj1xyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIFxyXG4gICAgLy/QntCx0YrRj9Cy0LvQtdC90LjQtSDQutC70LDRgdGB0L7QstGL0YUg0L/QtdGA0LXQvNC10L3QvdGL0YUg0LTQu9GPINC70LDQudC60LAg0Lgg0LjQt9C+0LHRgNCw0LbQtdC90LjQuVxyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UnKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2ltYWdlJyk7XHJcblxyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljaygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fZGVsZXRlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljaygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xyXG4gICAgfSk7IFxyXG4gIH1cclxuXHJcbiAgLy/QnNC10YLQvtC00Ysg0LTQu9GPINC70LDQudC60LAsINGD0LTQsNC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxyXG4gIF9oYW5kbGVMaWtlQ2xpY2soKSB7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2VsZW1lbnRfX2xpa2VfYWN0aXZlJyk7XHJcbiAgfVxyXG4gIFxyXG4gIF9oYW5kbGVEZWxldGVDbGljaygpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihmb3JtRWxlbWVudCwgY29uZmlnKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2NvbmZpZy5pbnB1dFNlbGVjdG9yKSk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgLy/QnNC10YLQvtC0LCDRgdC60YDRi9Cy0LDRjtGJ0LjQuSDQvtGI0LjQsdC60YNcclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5lcnJvclZpc2libGVDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcclxuICB9XHJcblxyXG4gIC8v0J7RgtC+0LHRgNCw0LbQtdC90LjQtSDQvtGI0LjQsdC60LhcclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmVycm9yVmlzaWJsZUNsYXNzKTtcclxuICB9XHJcblxyXG4gIC8v0J/RgNC+0LLQtdGA0LrQsCDQstCw0LvQuNC00L3QvtGB0YLQuCDQv9C+0LvRjywg0YfRgtC+0LHRiyDQv9C+0LrQsNC30LDRgtGMINC40LvQuCDRgdC60YDRi9GC0Ywg0L7RiNC40LHQutGDXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvL9Cf0YDQvtCy0LXRgNC60LAsINC90LXRgiDQu9C4INC/0L7Qu9C10Lkg0YEg0L3QtdC60L7RgNGA0LXQutGC0L3Ri9C80Lgg0LTQsNC90L3Ri9C80LhcclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8v0JzQtdGC0L7QtCwg0L/QvtC30LLQvtC70Y/RjtGJ0LjQuSDQuNC30LzQtdC90LjRgtGMINC60L3QvtC/0LrRgyAo0LDQutGC0LjQstC90LDRjyDQuNC70Lgg0L3QtdCw0LrRgtC40LLQvdCw0Y8pXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy/QndC10LDQutGC0LjQstC90L7RgdGC0Ywg0LrQvdC+0L/QutC4INC/0YDQuCDQvtGC0LrRgNGL0YLQuNC4INC/0L7Qv9Cw0L/QsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXHJcbiAgZGlzYWJsZWRTdWJtaXRCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICB9XHJcbiAgXHJcbiAgLy/QlNC+0LHQsNCy0LvQtdC90LjQtSBcItGB0LvRg9GI0LDRgtC10LvQtdC5XCIg0L3QsCDQstGB0LUg0L/QvtC70Y8g0Lgg0LrQvdC+0L/QutGDINC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNGPXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7IFxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIC8v0J7Rh9C40YHRgtC60LAg0YTQvtGA0LzRiyDQvtGCINC+0YjQuNCx0L7QulxyXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICBcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgLy/Qn9GA0LjQvdC40LzQsNC10YIg0LIg0LrQvtC90YHRgtGA0YPQutGC0L7RgCDQvNCw0YHRgdC40LIg0LTQsNC90L3Ri9GFLCDRhNGD0L3QutGG0LjRjiDQvtGC0YDQuNGB0L7QstC60Lgg0LTQsNC90L3Ri9GFINC90LAg0YHRgtGA0LDQvdC40YbQtSDQuCDRgdC10LvQtdC60YLQvtGAINC60L7QvdGC0LXQudC90LXRgNCwINC00LvRjyDRjdC70LXQvNC10L3RgtC+0LJcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjYXJkc0xpc3QpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMgPSBpdGVtczsgXHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gY2FyZHNMaXN0O1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShpdGVtKSB7XHJcbiAgICAvL9CU0L7QsdCw0LLQu9GP0LXQvCBpdGVtINCyINC60L7QvdGC0LXQudC90LXRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LVcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGl0ZW0pO1xyXG4gIH1cclxuXHJcbiAgLy/Qn9C10YDQtdCx0LXRgNC10Lwg0LzQsNGB0YHQuNCyINC00LDQvdC90YvRhSwg0LrQvtGC0L7RgNGL0LUg0LTQvtCx0LDQstC70Y/RjtGC0YHRjyDQvdCwINGB0YLRgNCw0L3QuNGG0YNcclxuICByZW5kZXJJdGVtKCkge1xyXG4gICAgdGhpcy5fcmVuZGVyZWRJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIC8v0J/RgNC40L3QuNC80LDQtdGCINCyINC60L7QvdGB0YLRgNGD0LrRgtC+0YAg0YHQtdC70LXQutGC0L7RgCDQv9C+0L/QsNC/0LBcclxuICBjb25zdHJ1Y3RvcihhbGxQb3B1cHMpIHtcclxuICAgIHRoaXMuX3BvcHVwID0gYWxsUG9wdXBzO1xyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuICBcclxuICAvL9Ck0YPQvdC60YbQuNGPINC00LvRjyDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsFxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfTtcclxuXHJcbiAgLy/QpNGD0L3QutGG0LjRjyDQtNC70Y8g0LfQsNC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LBcclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIC8v0JfQsNC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAg0YfQtdGA0LXQtyBlc2NcclxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy/Ql9Cw0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QvtCyINC60LvQuNC60L7QvCDQvdCwINC+0LLQtdGA0LvQtdC5INC4IFwi0LrRgNC10YHRgtC40LpcIlxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX29wZW5lZCcpIHx8XHJcbiAgICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX19jbG9zZScpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIC8v0J/RgNC40L3QuNC80LDQtdGCINCyINC60L7QvdGB0YLRgNGD0LrRgtC+0YAg0YHQtdC70LXQutGC0L7RgCDQv9C+0L/QsNC/0LAg0Lgg0LrQvtC70LHRjdC6INGB0LDQsdC80LjRgtCwINGE0L7RgNC80YtcclxuICBjb25zdHJ1Y3RvciAoYWxsUG9wdXBzLCBzdWJtaXRGb3JtKSB7XHJcbiAgICBzdXBlcihhbGxQb3B1cHMpO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG4gICAgdGhpcy5faW5wdXRzID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0Jyk7XHJcbiAgICB0aGlzLl9zdWJtaXRGb3JtID0gc3VibWl0Rm9ybTtcclxuICB9XHJcblxyXG4gIC8v0JzQtdGC0L7QtCwg0LrQvtGC0L7RgNGL0Lkg0YHQvtCx0LjRgNCw0LXRgiDQtNCw0L3QvdGL0LUg0LLRgdC10YUg0L/QvtC70LXQuSDRhNC+0YDQvNGLXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgdmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICAgIHZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgLy/QnNC10YLQvtC0LCDQtNC+0LHQsNCy0LvRj9GO0YnQuNC5INC+0LHRgNCw0LHQvtGC0YfQuNC6INC60LvQuNC60LAgXCLQutGA0LXRgdGC0LjQutGDXCIg0Lgg0YHQsNCx0LzQuNGC0YMg0YTQvtGA0LzRi1xyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5fc3VibWl0Rm9ybSh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvL9Cc0LXRgtC+0LQg0YHQsdGA0L7RgdCwINC/0L7Qu9C10Lkg0L/RgNC4INC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwICjQv9C10YDQtdC30LDQv9C40YHRjCDRgNC+0LTQuNGC0LXQu9GM0YHQutC+0LPQviDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsClcclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIC8v0J/RgNC40L3QuNC80LDQtdGCINC+0LHRitC10LrRgiDRgSDRgdC10LvQtdC60YLQvtGA0LDQvNC4INGN0LvQtdC80LXQvdGC0L7QsiBcItC40LzRj1wiINC4IFwi0L4g0YHQtdCx0LVcIlxyXG4gIGNvbnN0cnVjdG9yKHsgdXNlck5hbWUsIHVzZXJBYm91dCB9KSB7XHJcbiAgICB0aGlzLl9uYW1lID0gdXNlck5hbWU7XHJcbiAgICB0aGlzLl9hYm91dCA9IHVzZXJBYm91dDtcclxuICB9XHJcblxyXG4gIC8v0JzQtdGC0L7QtCwg0LLQvtC30LLRgNCw0YnQsNGO0YnQuNC5INC+0LHRitC10LrRgiDRgSDQtNCw0L3QvdGL0LzQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIGNvbnN0IHVzZXJJbmZvID0ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG4gICAgICBhYm91dDogdGhpcy5fYWJvdXQudGV4dENvbnRlbnRcclxuICAgIH1cclxuICAgIHJldHVybiB1c2VySW5mbztcclxuICB9XHJcblxyXG4gIC8v0JzQtdGC0L7QtCwg0L/RgNC40L3QuNC80LDRjtGJ0LjQuSDQvdC+0LLRi9C1INC00LDQvdC90YvQtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0Lgg0LTQvtCx0LDQstC70Y/RjtGJ0LjQuSDQvdCwINGB0YLRgNCw0L3QuNGG0YNcclxuICBzZXRVc2VySW5mbyh1c2VySW5mbykge1xyXG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IHVzZXJJbmZvLm5hbWU7XHJcbiAgICB0aGlzLl9hYm91dC50ZXh0Q29udGVudCA9IHVzZXJJbmZvLmFib3V0O1xyXG4gIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoYWxsUG9wdXBzKSB7XHJcbiAgICBzdXBlcihhbGxQb3B1cHMpO1xyXG4gICAgdGhpcy5fbmFtZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fcGxhY2UtdGl0bGUnKTtcclxuICAgIHRoaXMuX2xpbmsgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlLWVsZW1lbnQnKTtcclxuICB9XHJcbiAgXHJcbiAgLy/Qn9C10YDQtdC30LDQv9C40YHRjCDRgNC+0LTQuNGC0LXQu9GM0YHQutC+0LPQviDQvNC10YLQvtC00LAg0LTQu9GPINC+0YLQutGA0YvRgtC40Y9cclxuICBvcGVuKG5hbWUsIGxpbmspIHtcclxuICAgIHRoaXMuX2xpbmsuc3JjID0gbGluaztcclxuICAgIHRoaXMuX2xpbmsuYWx0ID0gbmFtZTtcclxuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufSIsImltcG9ydCAnLi8uLi9wYWdlcy9pbmRleC5jc3MnO1xyXG5cclxuaW1wb3J0IHtcclxuICBhZGRDYXJkQnV0dG9uLFxyXG4gIHBvcHVwQWRkQ2FyZCxcclxuICBwcm9maWxlRWRpdEJ1dHRvbixcclxuICBwb3B1cFByb2ZpbGUsXHJcbiAgbmFtZUZpZWxkLFxyXG4gIHByb2ZpbGVUaXRsZSxcclxuICBhYm91dEZpZWxkLFxyXG4gIHByb2ZpbGVTdWJ0aXRsZSxcclxuICBjYXJkc0xpc3QsXHJcbiAgcG9wdXBJbWFnZSxcclxuICBjb25maWcsXHJcbiAgZm9ybUVsZW1lbnRQcm9maWxlLFxyXG4gIGZvcm1FbGVtZW50Q2FyZFxyXG59IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XHJcblxyXG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcclxuaW1wb3J0IENhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XHJcblxyXG4vL9Ce0YLQvtCx0YDQsNC20LXQvdC40LUg0LTQvtCx0LDQstC70LXQvdC90L7QuSDQuNC90YTQvtGA0LzQsNGG0LjQuCDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LUg0L3QsCDRgdGC0YDQsNC90LjRhtC1LCDQuNGFINC/0LXRgNC10LfQsNC/0LjRgdGMXHJcbmNvbnN0IHByb2ZpbGVJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICB1c2VyTmFtZTogcHJvZmlsZVRpdGxlLFxyXG4gIHVzZXJBYm91dDogcHJvZmlsZVN1YnRpdGxlLFxyXG59KTtcclxuXHJcbi8vQ9C+0YXRgNCw0L3QtdC90LjQtSDQt9Cw0L/QvtC70L3QtdC90L3QvtC5INGE0L7RgNC80Ysg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRj1xyXG5jb25zdCBoYW5kbGVQcm9maWxlUG9wdXAgPSAodXNlckRhdGEpID0+IHtcclxuICBwcm9maWxlSW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YSk7XHJcbn07XHJcblxyXG4vL1wi0KHQu9GD0YjQsNGC0LXQu9GMXCIg0LTQu9GPINC+0YLQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cclxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgcHJvZmlsZVBvcHVwLm9wZW4oKTtcclxuICBjb25zdCBwcm9maWxlSW5wdXRWYWx1ZXMgPSBwcm9maWxlSW5mby5nZXRVc2VySW5mbygpO1xyXG4gIG5hbWVGaWVsZC52YWx1ZSA9IHByb2ZpbGVJbnB1dFZhbHVlcy5uYW1lO1xyXG4gIGFib3V0RmllbGQudmFsdWUgPSBwcm9maWxlSW5wdXRWYWx1ZXMuYWJvdXQ7XHJcbiAgZm9ybVByb2ZpbGVWYWxpZGF0aW9uLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIGZvcm1Qcm9maWxlVmFsaWRhdGlvbi5kaXNhYmxlZFN1Ym1pdEJ1dHRvbigpO1xyXG59KTtcclxuXHJcbi8v0KHQvtC30LTQsNC90LjQtSDRjdC60LfQtdC80L/Qu9GP0YDQsCDQutC70LDRgdGB0LAgUG9wdXBXaXRoRm9ybSDQtNC70Y8g0L/QvtC/0LDQv9CwINC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IHByb2ZpbGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwUHJvZmlsZSwgaGFuZGxlUHJvZmlsZVBvcHVwKTtcclxucHJvZmlsZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuLy/QodC+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQu9GP0YDQsCDQutC70LDRgdGB0LAg0LTQu9GPINC60LDRgNGC0L7Rh9C10Log0YEg0YHQtdGA0LLQtdGA0LBcclxuY29uc3QgYXBpID0gbmV3IEFwaShjb25maWcuaG9zdCwgY29uZmlnLnRva2VuKTtcclxuXHJcbi8v0KHQvtC30LTQsNC90LjQtSDQvdC+0LLRi9GFINC60LDRgNGC0L7Rh9C10Log0LzQtdGB0YJcclxuY29uc3QgY3JlYXRlQ2FyZCA9IChkYXRhKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGRhdGEsICcuZWxlbWVudC10ZW1wbGF0ZScsIGhhbmRsZUNhcmRDbGljayk7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4gIHJldHVybiBjYXJkRWxlbWVudDtcclxufTtcclxuXHJcbi8v0J/QvtC70YPRh9C10L3QuNC1INC60LDRgNGC0L7Rh9C10Log0YEg0YHQtdGA0LLQtdGA0LBcclxuYXBpLmdldENhcmRzKClcclxuICAvL9Ca0L7Qs9C00LAg0YHQtdGA0LLQtdGAINC00LDQuyDQutCw0YDRgtC+0YfQutC4LCDQvdCw0YfQuNC90LDQtdC8INC40YUg0L7RgtGA0LjRgdC+0LLRi9Cy0LDRgtGMXHJcbiAgLnRoZW4oKGl0ZW1zKSA9PiB7XHJcbiAgICBjb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKHsgaXRlbXMsXHJcbiAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZChpdGVtKTtcclxuICAgICAgICBjYXJkTGlzdC5hZGRJdGVtKGNhcmRFbGVtZW50KTtcclxuICAgICAgICB9LFxyXG4gICAgICB9LCBcclxuICAgICAgY2FyZHNMaXN0IFxyXG4gICAgICApO1xyXG4gICAgY2FyZExpc3QucmVuZGVySXRlbSgpO1xyXG5cclxuLy/QodC+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQv9C70Y/RgNCwINC60LvQsNGB0YHQsCBQb3B1cFdpdGhGb3JtINC00LvRjyDQv9C+0L/QsNC/0LAg0YEg0LrQsNGA0YLQvtGH0LrQsNC80LhcclxuY29uc3QgbmV3Q2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBBZGRDYXJkLCBoYW5kbGVyQ2FyZFN1Ym1pdCk7XHJcbm5ld0NhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy9cItCh0LvRg9GI0LDRgtC10LvRjFwiINC00LvRjyDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmFkZENhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgbmV3Q2FyZFBvcHVwLm9wZW4oKTtcclxuICBmb3JtQ2FyZFZhbGlkYXRpb24ucmVzZXRWYWxpZGF0aW9uKCk7XHJcbn0pXHJcblxyXG4vL9Ch0L7Qt9C00LDQvdC40LUg0LrQsNGA0YLQvtGH0LrQuCDQuNC3INC30LDQv9C+0LvQvdC10L3QvdC+0Lkg0YTQvtGA0LzRi1xyXG5jb25zdCBoYW5kbGVyQ2FyZFN1Ym1pdCA9IChkYXRhKSA9PiB7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGRhdGEpO1xyXG4gIGNhcmRMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xyXG4gIG5ld0NhcmRQb3B1cC5jbG9zZSgpO1xyXG59O1xyXG4gIH0pO1xyXG5cclxuLy/QntGC0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsCDRgSDQuNC30L7QsdGA0LDQttC10L3QuNC10LxcclxuY29uc3QgaGFuZGxlQ2FyZENsaWNrID0gKG5hbWUsIGxpbmspID0+IHtcclxuICBpbWFnZVBvcHVwLm9wZW4obmFtZSwgbGluayk7XHJcbn1cclxuXHJcbi8v0KHQvtC30LTQsNC90LjQtSDRjdC60LfQtdC80L/Qu9GP0YDQsCDQutC70LDRgdGB0LAgUG9wdXBXaXRoSW1hZ2Ug0LTQu9GPINC/0L7Qv9Cw0L/QsCDRgSDQuNC30L7QsdGA0LDQttC10L3QuNGP0LzQuFxyXG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKHBvcHVwSW1hZ2UpO1xyXG5pbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vL9CS0LDQu9C40LTQsNGG0LjRj1xyXG5jb25zdCBmb3JtUHJvZmlsZVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtRWxlbWVudFByb2ZpbGUsIGNvbmZpZyk7XHJcbmNvbnN0IGZvcm1DYXJkVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1FbGVtZW50Q2FyZCwgY29uZmlnKTtcclxuZm9ybVByb2ZpbGVWYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuZm9ybUNhcmRWYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTsiXSwibmFtZXMiOlsicG9wdXBJbWFnZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFkZENhcmRCdXR0b24iLCJxdWVyeVNlbGVjdG9yQWxsIiwicG9wdXBBZGRDYXJkIiwicHJvZmlsZUVkaXRCdXR0b24iLCJwb3B1cFByb2ZpbGUiLCJuYW1lRmllbGQiLCJwcm9maWxlVGl0bGUiLCJhYm91dEZpZWxkIiwicHJvZmlsZVN1YnRpdGxlIiwiZm9ybUVsZW1lbnRQcm9maWxlIiwiZm9ybUVsZW1lbnRDYXJkIiwiY2FyZHNMaXN0IiwiY29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JWaXNpYmxlQ2xhc3MiLCJob3N0IiwidG9rZW4iLCJBcGkiLCJ0aGlzIiwiX2hvc3QiLCJfdG9rZW4iLCJmZXRjaCIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIkVycm9yIiwic3RhdHVzIiwiQ2FyZCIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl9pbWFnZUVsZW1lbnQiLCJfdGl0bGVJbWFnZUVsZW1lbnQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsIl9saWtlQnV0dG9uIiwiX2NhcmRJbWFnZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlTGlrZUNsaWNrIiwiX2hhbmRsZURlbGV0ZUNsaWNrIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwicmVtb3ZlIiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50IiwiX2Zvcm1FbGVtZW50IiwiX2NvbmZpZyIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJfc3VibWl0QnV0dG9uRWxlbWVudCIsImlucHV0RWxlbWVudCIsImVycm9yRWxlbWVudCIsImlkIiwiZXJyb3JNZXNzYWdlIiwiYWRkIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwic29tZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlZCIsImZvckVhY2giLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiU2VjdGlvbiIsIml0ZW1zIiwicmVuZGVyZXIiLCJfcmVuZGVyZWRJdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtIiwicHJlcGVuZCIsIlBvcHVwIiwiYWxsUG9wdXBzIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJrZXkiLCJjbG9zZSIsImUiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEZvcm0iLCJzdWJtaXRGb3JtIiwiX2Zvcm0iLCJfaW5wdXRzIiwiX3N1Ym1pdEZvcm0iLCJ2YWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlVzZXJJbmZvIiwidXNlck5hbWUiLCJ1c2VyQWJvdXQiLCJfYWJvdXQiLCJhYm91dCIsInVzZXJJbmZvIiwiUG9wdXBXaXRoSW1hZ2UiLCJwcm9maWxlSW5mbyIsInByb2ZpbGVQb3B1cCIsIm9wZW4iLCJwcm9maWxlSW5wdXRWYWx1ZXMiLCJnZXRVc2VySW5mbyIsImZvcm1Qcm9maWxlVmFsaWRhdGlvbiIsInJlc2V0VmFsaWRhdGlvbiIsImRpc2FibGVkU3VibWl0QnV0dG9uIiwidXNlckRhdGEiLCJzZXRVc2VySW5mbyIsInNldEV2ZW50TGlzdGVuZXJzIiwiYXBpIiwiY3JlYXRlQ2FyZCIsImdlbmVyYXRlQ2FyZCIsImdldENhcmRzIiwiY2FyZExpc3QiLCJjYXJkRWxlbWVudCIsImFkZEl0ZW0iLCJyZW5kZXJJdGVtIiwibmV3Q2FyZFBvcHVwIiwiaGFuZGxlckNhcmRTdWJtaXQiLCJmb3JtQ2FyZFZhbGlkYXRpb24iLCJpbWFnZVBvcHVwIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=