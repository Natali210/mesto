/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var t=document.querySelector(".popup_open-image"),e=(document.querySelector(".popup__image-element"),document.querySelector(".popup__place-title"),document.querySelectorAll(".popup"),document.querySelector(".profile__add")),r=document.querySelector(".popup_add-card"),n=document.querySelector(".profile__edit"),o=document.querySelector(".popup_profile"),i=document.querySelector(".popup__input_name"),a=document.querySelector(".profile__title"),u=document.querySelector(".popup__input_about"),c=document.querySelector(".profile__subtitle"),s=document.querySelector(".popup__form_profile"),l=(document.querySelector(".popup__input_place"),document.querySelector(".popup__input_link"),document.querySelector(".popup__form_new-card")),f=document.querySelector(".elements__list"),p=document.querySelector(".popup_new-avatar"),h=document.querySelector(".profile__avatar-overlay"),y=document.querySelector(".profile__avatar"),d={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inputErrorClass:"popup__input_type_error",errorVisibleClass:"popup__error-visible",host:"https://mesto.nomoreparties.co/v1/cohort-47",token:"f085916c-6915-4c31-bcde-3cb49b2623b6"};function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var m=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._host=e,this._token=r,this._getJsonOrError=this._getJsonOrError.bind(this),this._getHeaders=this._getHeaders.bind(this)}var e,r;return e=t,(r=[{key:"_getHeaders",value:function(){return{authorization:this._token,"content-type":"application/json"}}},{key:"_getJsonOrError",value:function(t){if(t.ok)return t.json();throw new Error("Ошибка: ".concat(t.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._host,"/users/me"),{headers:this._getHeaders()}).then(this._getJsonOrError)}},{key:"setProfileInfo",value:function(t){return fetch("".concat(this._host,"/users/me"),{method:"PATCH",headers:this._getHeaders(),body:JSON.stringify({name:t.name,about:t.about})}).then(this._getJsonOrError)}},{key:"setNewAvatar",value:function(t){return fetch("".concat(this._host,"/users/me/avatar"),{method:"PATCH",headers:this._getHeaders(),body:JSON.stringify({avatar:t.avatar})}).then(this._getJsonOrError)}},{key:"getCards",value:function(){return fetch("".concat(this._host,"/cards"),{headers:this._getHeaders()}).then(this._getJsonOrError)}},{key:"addCard",value:function(t){return fetch("".concat(this._host,"/cards"),{method:"POST",headers:this._getHeaders(),body:JSON.stringify(t)}).then(this._getJsonOrError)}}])&&v(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function _(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var b=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=e.name,this._link=e.link,this._cardSelector=r,this._handleCardClick=n}var e,r;return e=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._imageElement=this._element.querySelector(".element__image"),this._titleImageElement=this._element.querySelector(".element__title"),this._setEventListeners(),this._imageElement.src=this._link,this._imageElement.alt=this._name,this._titleImageElement.textContent=this._name,this._element}},{key:"_setEventListeners",value:function(){var t=this;this._likeButton=this._element.querySelector(".element__like"),this._cardImage=this._element.querySelector(".element__image"),this._cardDeleteBtn=this._element.querySelector(".element__delete"),this._likeButton.addEventListener("click",(function(){t._handleLikeClick()})),this._cardDeleteBtn.addEventListener("click",(function(){t._handleDeleteClick()})),this._cardImage.addEventListener("click",(function(){t._handleCardClick(t._name,t._link)}))}},{key:"_handleLikeClick",value:function(){this._likeButton.classList.toggle("element__like_active")}},{key:"_handleDeleteClick",value:function(){this._element.remove(),this._element=null}}])&&_(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var w=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._formElement=e,this._config=r,this._inputList=Array.from(e.querySelectorAll(this._config.inputSelector)),this._submitButtonElement=e.querySelector(this._config.submitButtonSelector)}var e,r;return e=t,(r=[{key:"_hideInputError",value:function(t){var e=this._formElement.querySelector("#".concat(t.id,"-error"));t.classList.remove(this._config.inputErrorClass),e.classList.remove(this._config.errorVisibleClass),e.textContent=""}},{key:"_showInputError",value:function(t,e){var r=this._formElement.querySelector("#".concat(t.id,"-error"));t.classList.add(this._config.inputErrorClass),r.textContent=e,r.classList.add(this._config.errorVisibleClass)}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t,t.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._submitButtonElement.disabled=!0:this._submitButtonElement.disabled=!1}},{key:"disabledSubmitButton",value:function(){this._submitButtonElement.disabled=!0}},{key:"_setEventListeners",value:function(){var t=this;this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._toggleButtonState()}))}))}},{key:"resetValidation",value:function(){var t=this;this._toggleButtonState(),this._inputList.forEach((function(e){t._hideInputError(e)}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&g(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var k=function(){function t(e,r){var n=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=n,this._container=r}var e,r;return e=t,(r=[{key:"setItems",value:function(t){this._renderedItems=t}},{key:"addItem",value:function(t){this._container.prepend(t)}},{key:"renderItem",value:function(){var t=this;this._renderedItems.forEach((function(e){t._renderer(e)}))}}])&&E(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function S(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var O=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=e,this._handleEscClose=this._handleEscClose.bind(this)}var e,r;return e=t,(r=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._popup.addEventListener("mousedown",(function(e){(e.target.classList.contains("popup_opened")||e.target.classList.contains("popup__close"))&&t.close()}))}}])&&S(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function j(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function x(){return x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=P(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},x.apply(this,arguments)}function P(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=q(t)););return t}function C(t,e){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},C(t,e)}function I(t,e){if(e&&("object"===L(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function q(t){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},q(t)}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=q(n);if(o){var r=q(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return I(this,t)});function a(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,t))._form=r._popup.querySelector(".popup__form"),r._inputs=r._form.querySelectorAll(".popup__input"),r._submitForm=e,r}return e=a,(r=[{key:"_getInputValues",value:function(){var t={};return this._inputs.forEach((function(e){t[e.name]=e.value})),t}},{key:"setEventListeners",value:function(){var t=this;x(q(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._submitForm(t._getInputValues()),t.close()}))}},{key:"close",value:function(){x(q(a.prototype),"close",this).call(this),this._form.reset()}}])&&j(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(O);function A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var B=function(){function t(e){var r=e.userName,n=e.userAbout,o=e.userAvatar;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=r,this._about=n,this._avatar=o}var e,r;return e=t,(r=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent,avatar:this._avatar.src}}},{key:"setUserInfo",value:function(t){this._name.textContent=t.name,this._about.textContent=t.about,this._avatar.src=t.avatar}}])&&A(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function N(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function V(){return V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=J(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},V.apply(this,arguments)}function J(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=U(t)););return t}function H(t,e){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},H(t,e)}function D(t,e){if(e&&("object"===R(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function U(t){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},U(t)}var G=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=U(n);if(o){var r=U(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return D(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t))._name=e._popup.querySelector(".popup__place-title"),e._link=e._popup.querySelector(".popup__image-element"),e}return e=a,(r=[{key:"open",value:function(t,e){this._link.src=e,this._link.alt=t,this._name.textContent=t,V(U(a.prototype),"open",this).call(this)}}])&&N(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(O);function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function M(){M=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=g(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function f(){}function p(){}function h(){}var y={};u(y,o,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(S([])));v&&v!==e&&r.call(v,o)&&(y=v);var m=h.prototype=f.prototype=Object.create(y);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var c=s(t[o],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==F(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function g(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,g(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=s(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=h,u(m,"constructor",h),u(h,"constructor",p),p.displayName=u(h,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},_(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Y(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function z(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Y(i,n,o,a,u,"next",t)}function u(t){Y(i,n,o,a,u,"throw",t)}a(void 0)}))}}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var K=new m(d.host,d.token);Promise.all([K.getUserInfo(),K.getCards()]).then((function(t){var e,r,n=(r=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,r)||function(t,e){if(t){if("string"==typeof t)return $(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1];Q.setUserInfo(o),tt.setItems(i),tt.renderItem(i)})).catch((function(t){return console.log(t)}));var Q=new B({userName:a,userAbout:c,userAvatar:y});function W(){return(W=z(M().mark((function t(e){var r;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K.setProfileInfo(e);case 3:r=t.sent,Q.setUserInfo(r),X.close(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}n.addEventListener("click",(function(){X.open();var t=Q.getUserInfo();i.value=t.name,u.value=t.about,ut.resetValidation(),ut.disabledSubmitButton()}));var X=new T(o,(function(t){return W.apply(this,arguments)}));X.setEventListeners();var Z=function(t){return new b(t,".element-template",nt).generateCard()},tt=new k({renderer:function(t){var e=Z(t);tt.addItem(e)}},f),et=new T(r,(function(t){return rt.apply(this,arguments)}));function rt(){return(rt=z(M().mark((function t(e){var r,n;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K.addCard(e);case 3:r=t.sent,n=Z(r),tt.addItem(n),et.close(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}et.setEventListeners(),e.addEventListener("click",(function(){et.open(),ct.resetValidation()}));var nt=function(t,e){ot.open(t,e)},ot=new G(t);ot.setEventListeners();var it=new T(p,(function(t){return at.apply(this,arguments)}));function at(){return(at=z(M().mark((function t(e){var r;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K.setNewAvatar(e);case 3:r=t.sent,Q.setUserInfo(r),X.close(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}it.setEventListeners(),h.addEventListener("click",(function(){it.open()}));var ut=new w(s,d),ct=new w(l,d);ut.enableValidation(),ct.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBRUhySixHQUlJdUosR0FBZSxJQUFJOUMsRUFBY2xILFlBVU4sMEVBQWpDLFdBQWlDcUMsR0FBakMsa0dBRXNCZ0csRUFBSTRCLFFBQVE1SCxHQUZsQyxPQUVVUixFQUZWLE9BR1VpSSxFQUFjRixFQUFXL0gsR0FDL0JnSCxHQUFTa0IsUUFBUUQsR0FDakJFLEdBQWFqRCxRQUxqQixnREFRSW1DLFFBQVFDLElBQVIsTUFSSixnRkFUQWEsR0FBYUwsb0JBR2I3SixFQUFjb0UsaUJBQWlCLFNBQVMsV0FDdEM4RixHQUFhVixPQUNiWSxHQUFtQlQsaUJBQ3BCLElBZ0JELElBQU0xRyxHQUFrQixTQUFDTCxFQUFNUSxHQUM3QmlILEdBQVdiLEtBQUs1RyxFQUFNUSxFQUN2QixFQUdLaUgsR0FBYSxJQUFJL0IsRUFBZXpJLEdBQ3RDd0ssR0FBV1Isb0JBR1gsSUFBTVMsR0FBaUIsSUFBSWxELEVBQWN4RyxZQVNQLDBFQUFsQyxXQUFrQ2dJLEdBQWxDLGdHQUVzQkwsRUFBSWdDLGFBQWEzQixHQUZ2QyxPQUVVN0csRUFGVixPQUdJOEcsRUFBWUMsWUFBWS9HLEdBQ3hCd0gsRUFBYXRDLFFBSmpCLGdEQU9JbUMsUUFBUUMsSUFBUixNQVBKLGdGQVJBaUIsR0FBZVQsb0JBR2ZoSixFQUFnQnVELGlCQUFpQixTQUFTLFdBQ3hDa0csR0FBZWQsTUFDaEIsSUF3QkQsSUFBTUUsR0FBd0IsSUFBSWhGLEVBQWNqRSxFQUFvQk0sR0FDOURxSixHQUFxQixJQUFJMUYsRUFBY2hFLEVBQWlCSyxHQUM5RDJJLEdBQXNCYyxtQkFDdEJKLEdBQW1CSSIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHBvcHVwSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfb3Blbi1pbWFnZScpO1xyXG5leHBvcnQgY29uc3QgaW1hZ2VFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZS1lbGVtZW50Jyk7XHJcbmV4cG9ydCBjb25zdCBjYXB0aW9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fcGxhY2UtdGl0bGUnKTtcclxuZXhwb3J0IGNvbnN0IGFsbFBvcHVwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cCcpO1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQnKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwQWRkQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9hZGQtY2FyZCcpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdCcpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3Byb2ZpbGUnKTtcclxuZXhwb3J0IGNvbnN0IG5hbWVGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfbmFtZScpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX3RpdGxlJyk7XHJcbmV4cG9ydCBjb25zdCBhYm91dEZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF9hYm91dCcpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZVN1YnRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX3N1YnRpdGxlJyk7XHJcbmV4cG9ydCBjb25zdCBmb3JtRWxlbWVudFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm1fcHJvZmlsZScpO1xyXG5leHBvcnQgY29uc3QgcGxhY2VGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfcGxhY2UnKTtcclxuZXhwb3J0IGNvbnN0IGxpbmtGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfbGluaycpO1xyXG5leHBvcnQgY29uc3QgZm9ybUVsZW1lbnRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtX25ldy1jYXJkJyk7XHJcbmV4cG9ydCBjb25zdCBjYXJkc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2xpc3QnKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX25ldy1hdmF0YXInKTtcclxuZXhwb3J0IGNvbnN0IG5ld0F2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXItb3ZlcmxheScpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKTtcclxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLFxyXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fYnV0dG9uJyxcclxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXHJcbiAgZXJyb3JWaXNpYmxlQ2xhc3M6ICdwb3B1cF9fZXJyb3ItdmlzaWJsZScsXHJcbiAgaG9zdDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDcnLFxyXG4gIHRva2VuOiAnZjA4NTkxNmMtNjkxNS00YzMxLWJjZGUtM2NiNDliMjYyM2I2JyxcclxufTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKGhvc3QsIHRva2VuKSB7XHJcbiAgICB0aGlzLl9ob3N0ID0gaG9zdDtcclxuICAgIHRoaXMuX3Rva2VuID0gdG9rZW47XHJcbiAgICB0aGlzLl9nZXRKc29uT3JFcnJvciA9IHRoaXMuX2dldEpzb25PckVycm9yLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9nZXRIZWFkZXJzID0gdGhpcy5fZ2V0SGVhZGVycy5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgLy/Qn9C+0LvRg9GH0LXQvdC40LUgSGVhZGVycyDQtNC70Y8g0YDQsNC30LvQuNGH0L3Ri9GFINC80LXRgtC+0LTQvtCyXHJcbiAgX2dldEhlYWRlcnMoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8v0J7RgtCy0LXRgiDQsiDQv9GA0L7QvNC40YHQsNGFINGA0LDQt9C70LjRh9C90YvRhSDQvNC10YLQvtC00L7QsiDQsiDQt9Cw0LLQuNGB0LjQvNC+0YHRgtC4INC+0YIg0L3QsNC70LjRh9C40Y8g0L7RiNC40LHQutC4XHJcbiAgX2dldEpzb25PckVycm9yKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH1cclxuXHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gIH1cclxuXHJcbiAgLy/QnNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDQstC10YDQvdC10YIg0LjQvdGE0L7RgNC80LDRhtC40Y4g0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1XHJcbiAgZ2V0VXNlckluZm8oKXtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9ob3N0fS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycygpLFxyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2dldEpzb25PckVycm9yKVxyXG4gIH1cclxuXHJcbiAgLy/QnNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDRgdC+0YXRgNCw0L3QuNGCINC40LfQvNC10L3QtdC90L3Ri9C1INC00LDQvdC90YvQtSDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LVcclxuICBzZXRQcm9maWxlSW5mbyhkYXRhKXtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9ob3N0fS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKCksXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IGRhdGEuYWJvdXQsXHJcbiAgICAgIH0pLFxyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2dldEpzb25PckVycm9yKVxyXG4gIH1cclxuXHJcbiAgLy/QnNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDRgdC+0YXRgNCw0L3QuNGCINC40LfQvNC10L3QtdC90L3Ri9C1INC00LDQvdC90YvQtSDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LVcclxuICBzZXROZXdBdmF0YXIoZGF0YSl7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5faG9zdH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMoKSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcjogZGF0YS5hdmF0YXIsXHJcbiAgICAgIH0pLFxyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2dldEpzb25PckVycm9yKVxyXG4gIH1cclxuXHJcbiAgLy/QnNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDQstC10YDQvdC10YIg0LrQsNGA0YLQvtGH0LrQuFxyXG4gIGdldENhcmRzKCl7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5faG9zdH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMoKSxcclxuICAgIH0pXHJcbiAgICAudGhlbih0aGlzLl9nZXRKc29uT3JFcnJvcilcclxuICB9XHJcblxyXG4gIC8v0JzQtdGC0L7QtCwg0LTQvtCx0LDQstC70Y/RjtGJ0LjQuSDQutCw0YDRgtC+0YfQutC4XHJcbiAgYWRkQ2FyZChuYW1lKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5faG9zdH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKCksXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KChuYW1lKSksXHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5fZ2V0SnNvbk9yRXJyb3IpXHJcbiAgfVxyXG5cclxuICAvKmRlbGV0ZUNhcmQoX2lkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5faG9zdH0vY2FyZHMvJHtfaWR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKCksXHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5fZ2V0SnNvbk9yRXJyb3IpXHJcbiAgfSovXHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihkYXRhLCBjYXJkU2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljaykge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICAvL3RoaXMuX3VzZXJJZCA9IGRhdGEudXNlcklkO1xyXG4gICAgLy90aGlzLl9vd25lcklkID0gZGF0YS5vd25lcklkO1xyXG4gIH1cclxuXHJcbiAgLy/QpNGD0L3QutGG0LjRjywg0YfRgtC+0LHRiyDQstC+0LfQstGA0LDRidCw0YLRjCDRgNCw0LfQvNC10YLQutGDINC4INC60LvQvtC90LjRgNC+0LLQsNGC0Ywg0Y3Qu9C10LzQtdC90YJcclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXHJcbiAgICAuY29udGVudFxyXG4gICAgLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50JylcclxuICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIC8v0KTRg9C90LrRhtC40Y8sINC60L7RgtC+0YDQsNGPINC/0L7QtNCz0L7RgtC+0LLQuNGCINC60LDRgNGC0L7Rh9C60YMg0Log0L/Rg9Cx0LvQuNC60LDRhtC40LhcclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICAvL9CX0LDQv9C40YHRjCDRgNCw0LfQvNC10YLQutC4INCyINC/0L7Qu9C1IGVsZW1lbnQsINGH0YLQvtCx0Ysg0YMg0LTRgNGD0LPQuNGFINGN0LvQtdC80LXQvdGC0L7QsiDQv9C+0Y/QstC40LvRgdGPINC00L7RgdGC0YPQvyDQuiDQvdC10LlcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5faW1hZ2VFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faW1hZ2UnKVxyXG4gICAgdGhpcy5fdGl0bGVJbWFnZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X190aXRsZScpXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIC8v0JTQvtCx0LDQstC70LXQvdC40LUg0LTQsNC90L3Ri9GFXHJcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2ltYWdlRWxlbWVudC5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fdGl0bGVJbWFnZUVsZW1lbnQudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgLy9cItCh0LvRg9GI0LDRgtC10LvQuFwiINGB0L7QsdGL0YLQuNC5INC00LvRjyDQu9Cw0LnQutCwLCDRg9C00LDQu9C10L3QuNGPINC4INC+0YLQutGA0YvRgtC40Y8g0LjQt9C+0LHRgNCw0LbQtdC90LjRj1xyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIFxyXG4gICAgLy/QntCx0YrRj9Cy0LvQtdC90LjQtSDQutC70LDRgdGB0L7QstGL0YUg0L/QtdGA0LXQvNC10L3QvdGL0YUg0LTQu9GPINC70LDQudC60LAg0Lgg0LjQt9C+0LHRgNCw0LbQtdC90LjQuVxyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UnKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2ltYWdlJyk7XHJcbiAgICB0aGlzLl9jYXJkRGVsZXRlQnRuID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fZGVsZXRlJyk7XHJcblxyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljaygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZERlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2soKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcclxuICAgIH0pOyBcclxuICB9XHJcblxyXG4gIC8v0JzQtdGC0L7QtNGLINC00LvRjyDQu9Cw0LnQutCwLCDRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcclxuICBfaGFuZGxlTGlrZUNsaWNrKCkge1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdlbGVtZW50X19saWtlX2FjdGl2ZScpO1xyXG4gIH1cclxuIFxyXG4gIC8qY2FyZE93bmVyKCkge1xyXG4gICAgaWYodGhpcy5fdXNlcklkICE9PSB0aGlzLl9vd25lcklkKSB7XHJcbiAgICAgIHRoaXMuX2NhcmREZWxldGVCdG4ucmVtb3ZlKCk7XHJcbiAgICB9XHJcbiAgfSovXHJcblxyXG4gIF9oYW5kbGVEZWxldGVDbGljaygpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihmb3JtRWxlbWVudCwgY29uZmlnKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2NvbmZpZy5pbnB1dFNlbGVjdG9yKSk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgLy/QnNC10YLQvtC0LCDRgdC60YDRi9Cy0LDRjtGJ0LjQuSDQvtGI0LjQsdC60YNcclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5lcnJvclZpc2libGVDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcclxuICB9XHJcblxyXG4gIC8v0J7RgtC+0LHRgNCw0LbQtdC90LjQtSDQvtGI0LjQsdC60LhcclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmVycm9yVmlzaWJsZUNsYXNzKTtcclxuICB9XHJcblxyXG4gIC8v0J/RgNC+0LLQtdGA0LrQsCDQstCw0LvQuNC00L3QvtGB0YLQuCDQv9C+0LvRjywg0YfRgtC+0LHRiyDQv9C+0LrQsNC30LDRgtGMINC40LvQuCDRgdC60YDRi9GC0Ywg0L7RiNC40LHQutGDXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvL9Cf0YDQvtCy0LXRgNC60LAsINC90LXRgiDQu9C4INC/0L7Qu9C10Lkg0YEg0L3QtdC60L7RgNGA0LXQutGC0L3Ri9C80Lgg0LTQsNC90L3Ri9C80LhcclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8v0JzQtdGC0L7QtCwg0L/QvtC30LLQvtC70Y/RjtGJ0LjQuSDQuNC30LzQtdC90LjRgtGMINC60L3QvtC/0LrRgyAo0LDQutGC0LjQstC90LDRjyDQuNC70Lgg0L3QtdCw0LrRgtC40LLQvdCw0Y8pXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy/QndC10LDQutGC0LjQstC90L7RgdGC0Ywg0LrQvdC+0L/QutC4INC/0YDQuCDQvtGC0LrRgNGL0YLQuNC4INC/0L7Qv9Cw0L/QsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXHJcbiAgZGlzYWJsZWRTdWJtaXRCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICB9XHJcbiAgXHJcbiAgLy/QlNC+0LHQsNCy0LvQtdC90LjQtSBcItGB0LvRg9GI0LDRgtC10LvQtdC5XCIg0L3QsCDQstGB0LUg0L/QvtC70Y8g0Lgg0LrQvdC+0L/QutGDINC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNGPXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7IFxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIC8v0J7Rh9C40YHRgtC60LAg0YTQvtGA0LzRiyDQvtGCINC+0YjQuNCx0L7QulxyXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICBcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgLy/Qn9GA0LjQvdC40LzQsNC10YIg0LIg0LrQvtC90YHRgtGA0YPQutGC0L7RgCDQvNCw0YHRgdC40LIg0LTQsNC90L3Ri9GFLCDRhNGD0L3QutGG0LjRjiDQvtGC0YDQuNGB0L7QstC60Lgg0LTQsNC90L3Ri9GFINC90LAg0YHRgtGA0LDQvdC40YbQtSDQuCDRgdC10LvQtdC60YLQvtGAINC60L7QvdGC0LXQudC90LXRgNCwINC00LvRjyDRjdC70LXQvNC10L3RgtC+0LJcclxuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNhcmRzTGlzdCkge1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGNhcmRzTGlzdDtcclxuICB9XHJcblxyXG4gIHNldEl0ZW1zKGl0ZW1zKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zID0gaXRlbXM7IFxyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShpdGVtKSB7XHJcbiAgICAvL9CU0L7QsdCw0LLQu9GP0LXQvCBpdGVtINCyINC60L7QvdGC0LXQudC90LXRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LVcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGl0ZW0pO1xyXG4gIH1cclxuXHJcbiAgLy/Qn9C10YDQtdCx0LXRgNC10Lwg0LzQsNGB0YHQuNCyINC00LDQvdC90YvRhSwg0LrQvtGC0L7RgNGL0LUg0LTQvtCx0LDQstC70Y/RjtGC0YHRjyDQvdCwINGB0YLRgNCw0L3QuNGG0YNcclxuICByZW5kZXJJdGVtKCkge1xyXG4gICAgdGhpcy5fcmVuZGVyZWRJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIC8v0J/RgNC40L3QuNC80LDQtdGCINCyINC60L7QvdGB0YLRgNGD0LrRgtC+0YAg0YHQtdC70LXQutGC0L7RgCDQv9C+0L/QsNC/0LBcclxuICBjb25zdHJ1Y3RvcihhbGxQb3B1cHMpIHtcclxuICAgIHRoaXMuX3BvcHVwID0gYWxsUG9wdXBzO1xyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuICBcclxuICAvL9Ck0YPQvdC60YbQuNGPINC00LvRjyDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsFxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfTtcclxuXHJcbiAgLy/QpNGD0L3QutGG0LjRjyDQtNC70Y8g0LfQsNC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LBcclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIC8v0JfQsNC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAg0YfQtdGA0LXQtyBlc2NcclxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy/Ql9Cw0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QvtCyINC60LvQuNC60L7QvCDQvdCwINC+0LLQtdGA0LvQtdC5INC4IFwi0LrRgNC10YHRgtC40LpcIlxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dCkgPT4ge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9vcGVuZWQnKSB8fFxyXG4gICAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX19jbG9zZScpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIC8v0J/RgNC40L3QuNC80LDQtdGCINCyINC60L7QvdGB0YLRgNGD0LrRgtC+0YAg0YHQtdC70LXQutGC0L7RgCDQv9C+0L/QsNC/0LAg0Lgg0LrQvtC70LHRjdC6INGB0LDQsdC80LjRgtCwINGE0L7RgNC80YtcclxuICBjb25zdHJ1Y3RvciAoYWxsUG9wdXBzLCBzdWJtaXRGb3JtKSB7XHJcbiAgICBzdXBlcihhbGxQb3B1cHMpO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG4gICAgdGhpcy5faW5wdXRzID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0Jyk7XHJcbiAgICB0aGlzLl9zdWJtaXRGb3JtID0gc3VibWl0Rm9ybTtcclxuICB9XHJcblxyXG4gIC8v0JzQtdGC0L7QtCwg0LrQvtGC0L7RgNGL0Lkg0YHQvtCx0LjRgNCw0LXRgiDQtNCw0L3QvdGL0LUg0LLRgdC10YUg0L/QvtC70LXQuSDRhNC+0YDQvNGLXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgdmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICAgIHZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgLy/QnNC10YLQvtC0LCDQtNC+0LHQsNCy0LvRj9GO0YnQuNC5INC+0LHRgNCw0LHQvtGC0YfQuNC6INC60LvQuNC60LAgXCLQutGA0LXRgdGC0LjQutGDXCIg0Lgg0YHQsNCx0LzQuNGC0YMg0YTQvtGA0LzRi1xyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5fc3VibWl0Rm9ybSh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvL9Cc0LXRgtC+0LQg0YHQsdGA0L7RgdCwINC/0L7Qu9C10Lkg0L/RgNC4INC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwICjQv9C10YDQtdC30LDQv9C40YHRjCDRgNC+0LTQuNGC0LXQu9GM0YHQutC+0LPQviDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsClcclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIC8v0J/RgNC40L3QuNC80LDQtdGCINC+0LHRitC10LrRgiDRgSDRgdC10LvQtdC60YLQvtGA0LDQvNC4INGN0LvQtdC80LXQvdGC0L7QsiBcItC40LzRj1wiLCBcItC+INGB0LXQsdC1XCIsIFwi0LDQstCw0YLQsNGAXCJcclxuICBjb25zdHJ1Y3Rvcih7IHVzZXJOYW1lLCB1c2VyQWJvdXQsIHVzZXJBdmF0YXIgfSkge1xyXG4gICAgdGhpcy5fbmFtZSA9IHVzZXJOYW1lO1xyXG4gICAgdGhpcy5fYWJvdXQgPSB1c2VyQWJvdXQ7XHJcbiAgICB0aGlzLl9hdmF0YXIgPSB1c2VyQXZhdGFyO1xyXG4gIH1cclxuXHJcbiAgLy/QnNC10YLQvtC0LCDQstC+0LfQstGA0LDRidCw0Y7RidC40Lkg0L7QsdGK0LXQutGCINGBINC00LDQvdC90YvQvNC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgY29uc3QgdXNlckluZm8gPSB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIGFib3V0OiB0aGlzLl9hYm91dC50ZXh0Q29udGVudCxcclxuICAgICAgYXZhdGFyOiB0aGlzLl9hdmF0YXIuc3JjLFxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVzZXJJbmZvO1xyXG4gIH1cclxuXHJcbiAgLy/QnNC10YLQvtC0LCDQv9GA0LjQvdC40LzQsNGO0YnQuNC5INC90L7QstGL0LUg0LTQsNC90L3Ri9C1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQuCDQtNC+0LHQsNCy0LvRj9GO0YnQuNC5INC90LAg0YHRgtGA0LDQvdC40YbRg1xyXG4gIHNldFVzZXJJbmZvKHVzZXJJbmZvKSB7XHJcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gdXNlckluZm8ubmFtZTtcclxuICAgIHRoaXMuX2Fib3V0LnRleHRDb250ZW50ID0gdXNlckluZm8uYWJvdXQ7XHJcbiAgICB0aGlzLl9hdmF0YXIuc3JjID0gdXNlckluZm8uYXZhdGFyO1xyXG4gIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoYWxsUG9wdXBzKSB7XHJcbiAgICBzdXBlcihhbGxQb3B1cHMpO1xyXG4gICAgdGhpcy5fbmFtZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fcGxhY2UtdGl0bGUnKTtcclxuICAgIHRoaXMuX2xpbmsgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlLWVsZW1lbnQnKTtcclxuICB9XHJcbiAgXHJcbiAgLy/Qn9C10YDQtdC30LDQv9C40YHRjCDRgNC+0LTQuNGC0LXQu9GM0YHQutC+0LPQviDQvNC10YLQvtC00LAg0LTQu9GPINC+0YLQutGA0YvRgtC40Y9cclxuICBvcGVuKG5hbWUsIGxpbmspIHtcclxuICAgIHRoaXMuX2xpbmsuc3JjID0gbGluaztcclxuICAgIHRoaXMuX2xpbmsuYWx0ID0gbmFtZTtcclxuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufSIsImltcG9ydCAnLi8uLi9wYWdlcy9pbmRleC5jc3MnO1xyXG5cclxuaW1wb3J0IHtcclxuICBhZGRDYXJkQnV0dG9uLFxyXG4gIHBvcHVwQWRkQ2FyZCxcclxuICBwcm9maWxlRWRpdEJ1dHRvbixcclxuICBwb3B1cFByb2ZpbGUsXHJcbiAgbmFtZUZpZWxkLFxyXG4gIHByb2ZpbGVUaXRsZSxcclxuICBhYm91dEZpZWxkLFxyXG4gIHByb2ZpbGVTdWJ0aXRsZSxcclxuICBjYXJkc0xpc3QsXHJcbiAgcG9wdXBJbWFnZSxcclxuICBjb25maWcsXHJcbiAgZm9ybUVsZW1lbnRQcm9maWxlLFxyXG4gIGZvcm1FbGVtZW50Q2FyZCxcclxuICBwb3B1cEF2YXRhcixcclxuICBuZXdBdmF0YXJCdXR0b24sXHJcbiAgcHJvZmlsZUF2YXRhciAgXHJcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcclxuXHJcbmltcG9ydCBBcGkgZnJvbSAnLi4vY29tcG9uZW50cy9BcGkuanMnO1xyXG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcclxuXHJcbi8v0KHQvtC30LTQsNC90LjQtSDRjdC60LfQtdC80LvRj9GA0LAg0LrQu9Cw0YHRgdCwINC00LvRjyDQv9C+0LvRg9GH0LXQvdC40Y8g0LTQsNC90L3Ri9GFINGBINGB0LXRgNCy0LXRgNCwXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoY29uZmlnLmhvc3QsIGNvbmZpZy50b2tlbik7XHJcblxyXG4vL9Cf0L7Qu9GD0YfQtdC90LjQtSDQtNCw0L3QvdGL0YUg0YEg0YHQtdGA0LLQtdGA0LBcclxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0Q2FyZHMoKV0pXHJcbiAgLnRoZW4oKFt1c2VyRGF0YSwgaXRlbXNdKSA9PiB7XHJcbiAgICBwcm9maWxlSW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YSk7XHJcbiAgICBjYXJkTGlzdC5zZXRJdGVtcyhpdGVtcyk7XHJcbiAgICBjYXJkTGlzdC5yZW5kZXJJdGVtKGl0ZW1zKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICB1c2VyTmFtZTogcHJvZmlsZVRpdGxlLFxyXG4gIHVzZXJBYm91dDogcHJvZmlsZVN1YnRpdGxlLFxyXG4gIHVzZXJBdmF0YXI6IHByb2ZpbGVBdmF0YXIsXHJcbn0pO1xyXG5cclxuLy9D0L7RhdGA0LDQvdC10L3QuNC1INC30LDQv9C+0LvQvdC10L3QvdC+0Lkg0YTQvtGA0LzRiyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXHJcbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVQb3B1cCh1c2VyRGF0YSkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuc2V0UHJvZmlsZUluZm8odXNlckRhdGEpO1xyXG4gICAgcHJvZmlsZUluZm8uc2V0VXNlckluZm8ocmVzKTtcclxuICAgIHByb2ZpbGVQb3B1cC5jbG9zZSgpO1xyXG4gIH1cclxuICBjYXRjaChlcnJvcikge1xyXG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gIH1cclxufTtcclxuXHJcbi8vXCLQodC70YPRiNCw0YLQtdC70YxcIiDQtNC70Y8g0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRj1xyXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBwcm9maWxlUG9wdXAub3BlbigpO1xyXG4gIGNvbnN0IHByb2ZpbGVJbnB1dFZhbHVlcyA9IHByb2ZpbGVJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgbmFtZUZpZWxkLnZhbHVlID0gcHJvZmlsZUlucHV0VmFsdWVzLm5hbWU7XHJcbiAgYWJvdXRGaWVsZC52YWx1ZSA9IHByb2ZpbGVJbnB1dFZhbHVlcy5hYm91dDtcclxuICBmb3JtUHJvZmlsZVZhbGlkYXRpb24ucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgZm9ybVByb2ZpbGVWYWxpZGF0aW9uLmRpc2FibGVkU3VibWl0QnV0dG9uKCk7XHJcbn0pO1xyXG5cclxuLy/QodC+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQv9C70Y/RgNCwINC60LvQsNGB0YHQsCBQb3B1cFdpdGhGb3JtINC00LvRjyDQv9C+0L/QsNC/0LAg0L/RgNC+0YTQuNC70Y9cclxuY29uc3QgcHJvZmlsZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBQcm9maWxlLCBoYW5kbGVQcm9maWxlUG9wdXApO1xyXG5wcm9maWxlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8v0KHQvtC30LTQsNC90LjQtSDQvdC+0LLRi9GFINC60LDRgNGC0L7Rh9C10Log0LzQtdGB0YJcclxuY29uc3QgY3JlYXRlQ2FyZCA9IChkYXRhKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGRhdGEsICcuZWxlbWVudC10ZW1wbGF0ZScsIGhhbmRsZUNhcmRDbGljayk7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4gIHJldHVybiBjYXJkRWxlbWVudDtcclxufTtcclxuXHJcbi8v0JLRi9C90L7RgdC40LwgY2FyZExpc3Qg0LIg0L7QsdGJ0YPRjiDQt9C+0L3RgyDQstC40LTQuNC80L7RgdGC0LhcclxuY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbih7XHJcbiAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoaXRlbSk7XHJcbiAgICBjYXJkTGlzdC5hZGRJdGVtKGNhcmRFbGVtZW50KTtcclxuICAgIH0sXHJcbiAgfSwgXHJcbiAgY2FyZHNMaXN0IFxyXG4gICk7XHJcblxyXG4vL9Ch0L7Qt9C00LDQvdC40LUg0Y3QutC30LXQvNC/0LvRj9GA0LAg0LrQu9Cw0YHRgdCwIFBvcHVwV2l0aEZvcm0g0LTQu9GPINC/0L7Qv9Cw0L/QsCDRgSDQutCw0YDRgtC+0YfQutCw0LzQuFxyXG5jb25zdCBuZXdDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEFkZENhcmQsIGhhbmRsZXJDYXJkU3VibWl0KTtcclxubmV3Q2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vL1wi0KHQu9GD0YjQsNGC0LXQu9GMXCIg0LTQu9GPINC+0YLQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwINC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcclxuYWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBuZXdDYXJkUG9wdXAub3BlbigpO1xyXG4gIGZvcm1DYXJkVmFsaWRhdGlvbi5yZXNldFZhbGlkYXRpb24oKTtcclxufSlcclxuXHJcbi8v0KHQvtC30LTQsNC90LjQtSDQutCw0YDRgtC+0YfQutC4INC40Lcg0LfQsNC/0L7Qu9C90LXQvdC90L7QuSDRhNC+0YDQvNGLXHJcbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZXJDYXJkU3VibWl0KGRhdGEpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmFkZENhcmQoZGF0YSk7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQocmVzKTtcclxuICAgIGNhcmRMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xyXG4gICAgbmV3Q2FyZFBvcHVwLmNsb3NlKCk7XHJcbiAgfVxyXG4gIGNhdGNoKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgfVxyXG59O1xyXG5cclxuLy/QntGC0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsCDRgSDQuNC30L7QsdGA0LDQttC10L3QuNC10LxcclxuY29uc3QgaGFuZGxlQ2FyZENsaWNrID0gKG5hbWUsIGxpbmspID0+IHtcclxuICBpbWFnZVBvcHVwLm9wZW4obmFtZSwgbGluayk7XHJcbn1cclxuXHJcbi8v0KHQvtC30LTQsNC90LjQtSDRjdC60LfQtdC80L/Qu9GP0YDQsCDQutC70LDRgdGB0LAgUG9wdXBXaXRoSW1hZ2Ug0LTQu9GPINC/0L7Qv9Cw0L/QsCDRgSDQuNC30L7QsdGA0LDQttC10L3QuNGP0LzQuFxyXG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKHBvcHVwSW1hZ2UpO1xyXG5pbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vL9Ch0L7Qt9C00LDQvdC40LUg0Y3QutC30LXQvNC/0LvRj9GA0LAg0LrQu9Cw0YHRgdCwIFBvcHVwV2l0aEZvcm0g0LTQu9GPINC/0L7Qv9Cw0L/QsCDQuNC30LzQtdC90LXQvdC40Y8g0LDQstCw0YLQsNGA0LBcclxuY29uc3QgbmV3QXZhdGFyUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEF2YXRhciwgaGFuZGxlQXZhdGFyU3VibWl0KTtcclxubmV3QXZhdGFyUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTsgIFxyXG5cclxuLy9cItCh0LvRg9GI0LDRgtC10LvRjFwiINC00LvRjyDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDQuNC30LzQtdC90LXQvdC40Y8g0LDQstCw0YLQsNGA0LBcclxubmV3QXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIG5ld0F2YXRhclBvcHVwLm9wZW4oKTtcclxufSlcclxuXHJcbi8vQ9C+0YXRgNCw0L3QtdC90LjQtSDQt9Cw0L/QvtC70L3QtdC90L3QvtC5INGE0L7RgNC80Ysg0LjQt9C80LXQvdC10L3QuNGPINCw0LLQsNGC0LDRgNCwXHJcbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZUF2YXRhclN1Ym1pdCh1c2VyRGF0YSkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuc2V0TmV3QXZhdGFyKHVzZXJEYXRhKTtcclxuICAgIHByb2ZpbGVJbmZvLnNldFVzZXJJbmZvKHJlcyk7XHJcbiAgICBwcm9maWxlUG9wdXAuY2xvc2UoKTtcclxuICB9XHJcbiAgY2F0Y2goZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICB9XHJcbn07XHJcblxyXG4vKtCj0LTQsNC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuFxyXG5mdW5jdGlvbiBkZWxldGVDYXJkKGNhcmQpIHtcclxuICBhcGkuZGVsZXRlQ2FyZChjYXJkLl9pZCk7XHJcbiAgY2FyZC5oYW5kbGVEZWxldGVDbGljaygpO1xyXG59Ki9cclxuXHJcblxyXG5cclxuXHJcbi8v0JLQsNC70LjQtNCw0YbQuNGPXHJcbmNvbnN0IGZvcm1Qcm9maWxlVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1FbGVtZW50UHJvZmlsZSwgY29uZmlnKTtcclxuY29uc3QgZm9ybUNhcmRWYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUVsZW1lbnRDYXJkLCBjb25maWcpO1xyXG5mb3JtUHJvZmlsZVZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5mb3JtQ2FyZFZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpOyJdLCJuYW1lcyI6WyJwb3B1cEltYWdlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYWRkQ2FyZEJ1dHRvbiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwb3B1cEFkZENhcmQiLCJwcm9maWxlRWRpdEJ1dHRvbiIsInBvcHVwUHJvZmlsZSIsIm5hbWVGaWVsZCIsInByb2ZpbGVUaXRsZSIsImFib3V0RmllbGQiLCJwcm9maWxlU3VidGl0bGUiLCJmb3JtRWxlbWVudFByb2ZpbGUiLCJmb3JtRWxlbWVudENhcmQiLCJjYXJkc0xpc3QiLCJwb3B1cEF2YXRhciIsIm5ld0F2YXRhckJ1dHRvbiIsInByb2ZpbGVBdmF0YXIiLCJjb25maWciLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvclZpc2libGVDbGFzcyIsImhvc3QiLCJ0b2tlbiIsIkFwaSIsInRoaXMiLCJfaG9zdCIsIl90b2tlbiIsIl9nZXRKc29uT3JFcnJvciIsImJpbmQiLCJfZ2V0SGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJyZXMiLCJvayIsImpzb24iLCJFcnJvciIsInN0YXR1cyIsImZldGNoIiwiaGVhZGVycyIsInRoZW4iLCJkYXRhIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJuYW1lIiwiYWJvdXQiLCJhdmF0YXIiLCJDYXJkIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiX25hbWUiLCJfbGluayIsImxpbmsiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl9pbWFnZUVsZW1lbnQiLCJfdGl0bGVJbWFnZUVsZW1lbnQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsIl9saWtlQnV0dG9uIiwiX2NhcmRJbWFnZSIsIl9jYXJkRGVsZXRlQnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVMaWtlQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2xpY2siLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJyZW1vdmUiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnQiLCJfZm9ybUVsZW1lbnQiLCJfY29uZmlnIiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsIl9zdWJtaXRCdXR0b25FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwiZXJyb3JFbGVtZW50IiwiaWQiLCJlcnJvck1lc3NhZ2UiLCJhZGQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJzb21lIiwiX2hhc0ludmFsaWRJbnB1dCIsImRpc2FibGVkIiwiZm9yRWFjaCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJTZWN0aW9uIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbXMiLCJfcmVuZGVyZWRJdGVtcyIsIml0ZW0iLCJwcmVwZW5kIiwiUG9wdXAiLCJhbGxQb3B1cHMiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEZvcm0iLCJzdWJtaXRGb3JtIiwiX2Zvcm0iLCJfaW5wdXRzIiwiX3N1Ym1pdEZvcm0iLCJ2YWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlVzZXJJbmZvIiwidXNlck5hbWUiLCJ1c2VyQWJvdXQiLCJ1c2VyQXZhdGFyIiwiX2Fib3V0IiwiX2F2YXRhciIsInVzZXJJbmZvIiwiUG9wdXBXaXRoSW1hZ2UiLCJhcGkiLCJQcm9taXNlIiwiYWxsIiwiZ2V0VXNlckluZm8iLCJnZXRDYXJkcyIsInVzZXJEYXRhIiwicHJvZmlsZUluZm8iLCJzZXRVc2VySW5mbyIsImNhcmRMaXN0Iiwic2V0SXRlbXMiLCJyZW5kZXJJdGVtIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwic2V0UHJvZmlsZUluZm8iLCJwcm9maWxlUG9wdXAiLCJvcGVuIiwicHJvZmlsZUlucHV0VmFsdWVzIiwiZm9ybVByb2ZpbGVWYWxpZGF0aW9uIiwicmVzZXRWYWxpZGF0aW9uIiwiZGlzYWJsZWRTdWJtaXRCdXR0b24iLCJzZXRFdmVudExpc3RlbmVycyIsImNyZWF0ZUNhcmQiLCJnZW5lcmF0ZUNhcmQiLCJjYXJkRWxlbWVudCIsImFkZEl0ZW0iLCJuZXdDYXJkUG9wdXAiLCJhZGRDYXJkIiwiZm9ybUNhcmRWYWxpZGF0aW9uIiwiaW1hZ2VQb3B1cCIsIm5ld0F2YXRhclBvcHVwIiwic2V0TmV3QXZhdGFyIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=